#pragma checksum "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "d8dc498b7828ade4f8581c06928f1dadb36381a6"
// <auto-generated/>
#pragma warning disable 1591
namespace PrOnWeb.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\_Imports.razor"
using PrOnWeb;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\_Imports.razor"
using PrOnWeb.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\_Imports.razor"
using Syncfusion.Blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\_Imports.razor"
using Syncfusion.Blazor.Calendars;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
using Syncfusion.Blazor.Inputs;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
using Syncfusion.Blazor.Buttons;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
using Syncfusion.Blazor.Popups;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
using Syncfusion.Blazor.Grids;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
using Syncfusion.Blazor.DropDowns;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
using PrOnWeb.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
using System.Security.Claims;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
using Microsoft.AspNetCore.Identity;

#line default
#line hidden
#nullable disable
#nullable restore
#line 21 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
           [Authorize]

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/prform/{PrId:int}")]
    public partial class PrForm : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
#nullable restore
#line 23 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
  
    var isPRW = (prHeader != null && prHeader.Pr_No != null && prHeader.Pr_No.StartsWith("PRW"));
    var PrLabel = isPRW ? "WEB PR : " : "SAP PR : ";
    //var isPrPD = (prHeader != null && prHeader.Status != null && (prHeader.Status.Equals("PDRY") || prHeader.Status.Equals("PDHO")));

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(0, "\r\n\r\n");
#nullable restore
#line 30 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
 if (prHeader == null)
{

#line default
#line hidden
#nullable disable
            __builder.AddContent(1, "    ");
            __builder.AddMarkupContent(2, "<b><em>Loading Data...</em></b> ");
#nullable restore
#line 32 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                    }
else
{

#line default
#line hidden
#nullable disable
            __builder.AddContent(3, "    ");
            __builder.OpenElement(4, "div");
            __builder.AddAttribute(5, "class", "container-fluid");
            __builder.AddMarkupContent(6, "\r\n        ");
            __builder.OpenElement(7, "div");
            __builder.AddAttribute(8, "class", "row prform-header");
            __builder.AddMarkupContent(9, "\r\n            ");
            __builder.OpenElement(10, "div");
            __builder.AddAttribute(11, "id", "b-header");
            __builder.AddAttribute(12, "class", "col-md-10");
            __builder.AddMarkupContent(13, "\r\n");
#nullable restore
#line 38 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                 if (prHeader == null)
                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(14, "                    ");
            __builder.AddMarkupContent(15, "<span>SAP PR: <em>Loading ...</em></span>\r\n");
#nullable restore
#line 41 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                }
                else
                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(16, "                    ");
            __builder.OpenElement(17, "span");
            __builder.AddContent(18, 
#nullable restore
#line 44 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                           PrLabel

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.OpenElement(19, "span");
            __builder.AddAttribute(20, "class", "text-info");
            __builder.AddContent(21, " ");
            __builder.AddContent(22, 
#nullable restore
#line 44 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                   prHeader.Pr_No

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(23, " ");
            __builder.CloseElement();
            __builder.AddMarkupContent(24, "\r\n                    ");
            __builder.OpenElement(25, "span");
            __builder.AddAttribute(26, "class", "label status");
            __builder.AddContent(27, " ");
            __builder.AddContent(28, 
#nullable restore
#line 45 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                 PrStatusName

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(29, " ");
            __builder.CloseElement();
            __builder.AddMarkupContent(30, "\r\n");
#nullable restore
#line 46 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                     if ("Yes" == prHeader.Pr_Urgent)
                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(31, "                        ");
            __builder.AddMarkupContent(32, "<small class=\"label urgent-pr\"> Urgent PR ! </small>");
#nullable restore
#line 48 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 48 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                             }

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(33, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(34, "\r\n            ");
            __builder.OpenElement(35, "div");
            __builder.AddAttribute(36, "class", "col-2");
            __builder.AddAttribute(37, "style", "display: flex; align-items: end;");
            __builder.AddMarkupContent(38, "\r\n                ");
            __builder.OpenComponent<Syncfusion.Blazor.Buttons.SfButton>(39);
            __builder.AddAttribute(40, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 52 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                    PrintPrForm

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(41, "CssClass", "b-button  btn-warning");
            __builder.AddAttribute(42, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(43, "<i class=\"fa fa-print\"></i> Print PR form");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(44, "\r\n\r\n                ");
            __builder.AddMarkupContent(45, "<a href=\"prlist\" class=\"e-btn b-button btn-outline-dark\"><i class=\"fa fa-reply\"></i>  Back to List</a>\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(46, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(47, "\r\n        ");
            __builder.OpenElement(48, "div");
            __builder.AddAttribute(49, "class", "row");
            __builder.AddMarkupContent(50, "\r\n            ");
            __builder.OpenElement(51, "div");
            __builder.AddAttribute(52, "class", "col-md-3");
            __builder.AddMarkupContent(53, "\r\n                ");
            __builder.AddMarkupContent(54, "<div class=\"row\">\r\n\r\n                </div>\r\n                ");
            __builder.OpenElement(55, "div");
            __builder.AddAttribute(56, "class", "row");
            __builder.AddAttribute(57, "style", true);
            __builder.AddMarkupContent(58, "\r\n                    ");
            __builder.OpenElement(59, "div");
            __builder.AddAttribute(60, "class", "col");
            __builder.AddMarkupContent(61, "\r\n");
#nullable restore
#line 69 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                         if (Mode == "V")
                        {
                            

#line default
#line hidden
#nullable disable
#nullable restore
#line 71 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                             if (isPRW)
                            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(62, "                                ");
            __builder.OpenComponent<Syncfusion.Blazor.Buttons.SfButton>(63);
            __builder.AddAttribute(64, "CssClass", "b-button btn-primary");
            __builder.AddAttribute(65, "OnClick", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 73 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                    ModeModify

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(66, "Disabled", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 73 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                           isBlocked

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(67, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(68, "<i class=\"fa fa-file-text-o\"></i> Modify PR");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(69, "\r\n");
#nullable restore
#line 74 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                            }

#line default
#line hidden
#nullable disable
            __builder.AddContent(70, "                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Buttons.SfButton>(71);
            __builder.AddAttribute(72, "CssClass", "b-button btn-info");
            __builder.AddAttribute(73, "OnClick", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 75 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                             ModeEdit

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(74, "Disabled", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 75 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                  isBlocked

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(75, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(76, "<i class=\"fa fa-pencil-square-o\"></i> Update");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(77, "\r\n                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Buttons.SfButton>(78);
            __builder.AddAttribute(79, "CssClass", "b-button btn-success");
            __builder.AddAttribute(80, "OnClick", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 76 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                SetFinalized

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(81, "Disabled", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 76 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                         isBlocked

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(82, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(83, "<i class=\"fa fa-check-square-o\"></i> Submit");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(84, "\r\n                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Buttons.SfButton>(85);
            __builder.AddAttribute(86, "CssClass", " b-button btn-danger");
            __builder.AddAttribute(87, "OnClick", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 77 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                SetDelete

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(88, "Disabled", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 77 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                      isBlocked

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(89, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(90, "<i class=\"fa fa-trash-o\"></i> Delete ");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(91, "\r\n");
#nullable restore
#line 78 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 79 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                         if (Mode == "E")
                        {
                            

#line default
#line hidden
#nullable disable
#nullable restore
#line 81 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                             if (isPRW && isRequester)
                            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(92, "                                ");
            __builder.OpenComponent<Syncfusion.Blazor.Buttons.SfButton>(93);
            __builder.AddAttribute(94, "CssClass", "b-button btn-primary");
            __builder.AddAttribute(95, "OnClick", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 83 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                    ModeModify

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(96, "Disabled", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 83 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                           isBlocked

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(97, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(98, "<i class=\"fa fa-file-text-o\"></i> Modify PR");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(99, "\r\n");
#nullable restore
#line 84 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                            }

#line default
#line hidden
#nullable disable
            __builder.AddContent(100, "                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Buttons.SfButton>(101);
            __builder.AddAttribute(102, "CssClass", "b-button  btn-success");
            __builder.AddAttribute(103, "OnClick", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 85 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                  SaveEdit

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(104, "Disabled", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 85 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                       isBlocked

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(105, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(106, "<i class=\"fa fa-save\"></i>  Save");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(107, "\r\n                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Buttons.SfButton>(108);
            __builder.AddAttribute(109, "CssClass", "b-button");
            __builder.AddAttribute(110, "OnClick", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 86 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                    CancelEdit

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(111, "Disabled", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 86 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                           isBlocked

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(112, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(113, "<i class=\"fa fa-times-circle-o\"></i> Cancel");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(114, "\r\n");
#nullable restore
#line 87 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 88 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                         if (Mode == "P")
                        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(115, "                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Buttons.SfButton>(116);
            __builder.AddAttribute(117, "IsPrimary", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 90 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                 true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(118, "CssClass", "b-button");
            __builder.AddAttribute(119, "OnClick", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 90 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                     SetApproved

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(120, "Disabled", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 90 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                             isBlocked

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(121, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(122, "<i class=\"fa fa-check-square-o\"></i> Approve");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(123, "\r\n                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Buttons.SfButton>(124);
            __builder.AddAttribute(125, "CssClass", "b-button e-warning");
            __builder.AddAttribute(126, "OnClick", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 91 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                              SetReject

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(127, "Disabled", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 91 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                    isBlocked

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(128, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(129, "<i class=\"fa fa-ban\"></i> Reject");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(130, "\r\n");
#nullable restore
#line 92 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 93 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                         if (Mode == "R")
                        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(131, "                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Buttons.SfButton>(132);
            __builder.AddAttribute(133, "IsPrimary", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 95 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                 true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(134, "CssClass", "b-button");
            __builder.AddAttribute(135, "OnClick", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 95 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                     CreateRN

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(136, "Disabled", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 95 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                          isBlocked

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(137, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(138, "<i class=\"fa fa-pencil-square-o\"></i> Create Returning Note");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(139, "\r\n                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Buttons.SfButton>(140);
            __builder.AddAttribute(141, "CssClass", "b-button e-warning");
            __builder.AddAttribute(142, "OnClick", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 96 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                              SetReject

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(143, "Disabled", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 96 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                    isBlocked

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(144, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(145, "<i class=\"fa fa-ban\"></i> Reject");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(146, "\r\n");
#nullable restore
#line 97 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                        }

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(147, "\r\n");
#nullable restore
#line 99 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                         if (isStaffChooser)
                        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(148, "                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Buttons.SfButton>(149);
            __builder.AddAttribute(150, "IsPrimary", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 101 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                 true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(151, "CssClass", "b-button btn-info");
            __builder.AddAttribute(152, "OnClick", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 101 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                              ReAssingStaff

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(153, "Disabled", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 101 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                        isBlocked

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(154, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(155, "<i class=\"fa fa-send-o\"></i> Re-Assign Purchasing Team");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(156, "\r\n");
#nullable restore
#line 102 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                        }

#line default
#line hidden
#nullable disable
            __builder.AddContent(157, "                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(158, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(159, "\r\n                ");
            __builder.OpenElement(160, "div");
            __builder.AddAttribute(161, "class", "row pt-2");
            __builder.AddMarkupContent(162, "\r\n                    ");
            __builder.OpenElement(163, "div");
            __builder.AddAttribute(164, "class", "col");
            __builder.AddMarkupContent(165, "\r\n                        ");
            __Blazor.PrOnWeb.Pages.PrForm.TypeInference.CreateSfCheckBox_0(__builder, 166, 167, "CG Concerning ", 168, 
#nullable restore
#line 107 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                     isReadOnly

#line default
#line hidden
#nullable disable
            , 169, 
#nullable restore
#line 107 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                    isCGConcerning

#line default
#line hidden
#nullable disable
            , 170, Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => isCGConcerning = __value, isCGConcerning)), 171, () => isCGConcerning);
            __builder.AddMarkupContent(172, " &nbsp;\r\n                        ");
            __Blazor.PrOnWeb.Pages.PrForm.TypeInference.CreateSfCheckBox_1(__builder, 173, 174, "SCA Concerning ", 175, 
#nullable restore
#line 108 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                       isReadOnly

#line default
#line hidden
#nullable disable
            , 176, 
#nullable restore
#line 108 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                    isSCAConcerning

#line default
#line hidden
#nullable disable
            , 177, Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => isSCAConcerning = __value, isSCAConcerning)), 178, () => isSCAConcerning);
            __builder.AddMarkupContent(179, " &nbsp;\r\n                        ");
            __Blazor.PrOnWeb.Pages.PrForm.TypeInference.CreateSfCheckBox_2(__builder, 180, 181, "ISO/IEC17025", 182, 
#nullable restore
#line 109 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                              isReadOnly

#line default
#line hidden
#nullable disable
            , 183, 
#nullable restore
#line 109 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                    isISONeed

#line default
#line hidden
#nullable disable
            , 184, Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => isISONeed = __value, isISONeed)), 185, () => isISONeed);
            __builder.AddMarkupContent(186, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(187, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(188, "\r\n                ");
            __builder.OpenElement(189, "div");
            __builder.AddAttribute(190, "class", "row");
            __builder.AddMarkupContent(191, "\r\n                    ");
            __builder.OpenElement(192, "div");
            __builder.AddAttribute(193, "class", "col");
            __builder.AddMarkupContent(194, "\r\n                        ");
            __builder.AddMarkupContent(195, "<span class=\"b-label-notlift\">Objective</span>\r\n                        ");
            __builder.OpenComponent<Syncfusion.Blazor.Inputs.SfTextBox>(196);
            __builder.AddAttribute(197, "CssClass", "e-outline");
            __builder.AddAttribute(198, "Placeholder", "");
            __builder.AddAttribute(199, "Multiline", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 116 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                              true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(200, "FloatLabelType", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Inputs.FloatLabelType>(
#nullable restore
#line 116 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                     FloatLabelType.Never

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(201, "Readonly", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 116 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                     isReadOnly

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(202, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 115 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                     ObjectiveEdit

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(203, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => ObjectiveEdit = __value, ObjectiveEdit))));
            __builder.AddAttribute(204, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => ObjectiveEdit));
            __builder.CloseComponent();
            __builder.AddMarkupContent(205, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(206, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(207, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(208, "\r\n\r\n            ");
            __builder.OpenElement(209, "div");
            __builder.AddAttribute(210, "class", "col-md-2");
            __builder.AddMarkupContent(211, "\r\n");
#nullable restore
#line 122 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                 if (PrStatus == "NEW" || PrStatus == "REJ")
                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(212, "                    ");
            __builder.AddMarkupContent(213, "<span class=\"b-label-notlift\">Co-Sign</span>\r\n");
#nullable restore
#line 125 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                     if (coSigners != null)
                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(214, "                        ");
            __builder.OpenComponent<Syncfusion.Blazor.DropDowns.SfDropDownList<string, CoSigners>>(215);
            __builder.AddAttribute(216, "Placeholder", "Select Co-Sign");
            __builder.AddAttribute(217, "Enabled", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 127 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                !isReadOnly

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(218, "DataSource", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Collections.Generic.IEnumerable<CoSigners>>(
#nullable restore
#line 128 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                      coSigners

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(219, "Readonly", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 128 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                            isReadOnly

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(220, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<string>(
#nullable restore
#line 128 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                      CoSignGroupSelect

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(221, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<string>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<string>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => CoSignGroupSelect = __value, CoSignGroupSelect))));
            __builder.AddAttribute(222, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<string>>>(() => CoSignGroupSelect));
            __builder.AddAttribute(223, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(224, "\r\n                            ");
                __builder2.OpenComponent<Syncfusion.Blazor.DropDowns.DropDownListFieldSettings>(225);
                __builder2.AddAttribute(226, "Text", "CoSignName");
                __builder2.AddAttribute(227, "Value", "CoSignGroup");
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(228, "\r\n                        ");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(229, "\r\n");
#nullable restore
#line 131 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 131 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                     

                }

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(230, "\r\n\r\n");
#nullable restore
#line 136 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                 foreach (ApprValues apprValue in apprFlow)
                {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(231, "div");
            __builder.AddMarkupContent(232, "\r\n                        ");
            __Blazor.PrOnWeb.Pages.PrForm.TypeInference.CreateSfCheckBox_3(__builder, 233, 234, 
#nullable restore
#line 138 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                              true

#line default
#line hidden
#nullable disable
            , 235, 
#nullable restore
#line 138 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                           apprValue.Text

#line default
#line hidden
#nullable disable
            , 236, 
#nullable restore
#line 138 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                   apprValue.isChecked

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(237, "\r\n                        ");
            __builder.OpenElement(238, "span");
            __builder.AddAttribute(239, "class", "app-label-name");
            __builder.AddContent(240, 
#nullable restore
#line 139 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                      apprValue.Name

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(241, "\r\n                        ");
            __builder.OpenElement(242, "span");
            __builder.AddAttribute(243, "class", "app-label-date ");
            __builder.AddContent(244, 
#nullable restore
#line 140 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                       apprValue.Date

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(245, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(246, "\r\n");
#nullable restore
#line 142 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                }

#line default
#line hidden
#nullable disable
            __builder.AddContent(247, "            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(248, "\r\n\r\n            ");
            __builder.OpenElement(249, "div");
            __builder.AddAttribute(250, "class", "col-2");
            __builder.AddMarkupContent(251, "\r\n                ");
            __builder.AddMarkupContent(252, "<span class=\"b-label-notlift\">Returning Notes</span>\r\n\r\n                ");
            __builder.OpenElement(253, "table");
            __builder.AddAttribute(254, "border", "0");
            __builder.AddMarkupContent(255, "\r\n");
#nullable restore
#line 149 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                     if (returningNotes != null)
                    {

                        

#line default
#line hidden
#nullable disable
#nullable restore
#line 152 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                         foreach (var item in returningNotes)
                        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(256, "                            ");
            __builder.OpenElement(257, "tr");
            __builder.AddMarkupContent(258, "\r\n                                ");
            __builder.AddMarkupContent(259, "<td style=\"height: 20px; background-color:white;\">&nbsp;</td>\r\n                                ");
            __builder.OpenElement(260, "td");
            __builder.AddAttribute(261, "align", "left");
            __builder.AddMarkupContent(262, "\r\n                                    ");
            __builder.OpenElement(263, "a");
            __builder.AddAttribute(264, "href", "#");
            __builder.AddAttribute(265, "runat", "server");
            __builder.AddEventPreventDefaultAttribute(266, "onclick", true);
            __builder.AddAttribute(267, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 157 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                   () => RNClick(item.Id)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(268, 
#nullable restore
#line 157 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                             item.Rn_Id

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(269, "\r\n                                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(270, "\r\n                                ");
            __builder.AddMarkupContent(271, "<td style=\"height: 20px; background-color:white;\">&nbsp;</td>\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(272, "\r\n");
#nullable restore
#line 165 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
}

#line default
#line hidden
#nullable disable
#nullable restore
#line 165 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
 
                    }

#line default
#line hidden
#nullable disable
            __builder.AddContent(273, "                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(274, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(275, "\r\n            ");
            __builder.OpenElement(276, "div");
            __builder.AddAttribute(277, "class", "col-sm-3");
            __builder.AddMarkupContent(278, "\r\n");
#nullable restore
#line 170 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                 if (uploadFiles != null)
                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(279, "                    ");
            __builder.OpenElement(280, "table");
            __builder.AddMarkupContent(281, "\r\n                        ");
            __builder.AddMarkupContent(282, "<tr>\r\n                            <td class=\"b-label-notlift\">Attachment</td>\r\n                        </tr>\r\n                        ");
            __builder.OpenElement(283, "tr");
            __builder.AddMarkupContent(284, "\r\n                            ");
            __builder.OpenElement(285, "td");
            __builder.AddAttribute(286, "colspan", "2");
            __builder.AddMarkupContent(287, "\r\n");
#nullable restore
#line 178 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                 foreach (UploadFile item in uploadFiles)
                                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(288, "                                    ");
            __builder.OpenElement(289, "div");
            __builder.AddAttribute(290, "style", "font-size: smaller;");
            __builder.AddMarkupContent(291, "\r\n                                        ");
            __builder.OpenElement(292, "a");
            __builder.AddAttribute(293, "href", "images/" + (
#nullable restore
#line 182 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                          item.Id + "_" + item.Filename

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(294, "target", "_blank");
            __builder.AddMarkupContent(295, "\r\n                                            ");
            __builder.AddContent(296, 
#nullable restore
#line 183 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                             item.Description

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(297, " [ ");
            __builder.AddContent(298, 
#nullable restore
#line 183 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                 item.Filename

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(299, " ]\r\n                                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(300, "\r\n                                        &nbsp;&nbsp;\r\n                                        ");
            __builder.OpenComponent<Syncfusion.Blazor.Buttons.SfButton>(301);
            __builder.AddAttribute(302, "IconCss", "e-icons e-xdelete-icon");
            __builder.AddAttribute(303, "CssClass", "e-small e-round");
            __builder.AddAttribute(304, "IsPrimary", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 186 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                         true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(305, "OnClick", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 187 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                             e=> DeleteAttach( item.Id)

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(306, "Disabled", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 187 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                    isDeleteFileDisable

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(307, "\r\n                                    ");
            __builder.CloseElement();
#nullable restore
#line 189 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                          }

#line default
#line hidden
#nullable disable
            __builder.AddContent(308, "                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(309, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(310, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddContent(311, "        ");
#nullable restore
#line 192 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                    }

#line default
#line hidden
#nullable disable
            __builder.AddContent(312, "                ");
            __builder.OpenComponent<Syncfusion.Blazor.Buttons.SfButton>(313);
            __builder.AddAttribute(314, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 193 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                     OpenUploadDialog

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(315, "IsPrimary", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 193 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                  true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(316, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(317, "<i class=\"fa fa-upload\"></i> Upload File");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(318, "\r\n                ");
            __builder.OpenComponent<Syncfusion.Blazor.Popups.SfDialog>(319);
            __builder.AddAttribute(320, "ID", "uploadDialog");
            __builder.AddAttribute(321, "Width", "350px");
            __builder.AddAttribute(322, "MinHeight", "150px");
            __builder.AddAttribute(323, "ShowCloseIcon", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 194 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                           true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(324, "IsModal", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 194 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                          true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(325, "Visible", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 194 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                 IsVisibleChild

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(326, "VisibleChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.Boolean>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.Boolean>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => IsVisibleChild = __value, IsVisibleChild))));
            __builder.AddAttribute(327, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(328, "\r\n                    ");
                __builder2.OpenComponent<Syncfusion.Blazor.Popups.DialogTemplates>(329);
                __builder2.AddAttribute(330, "Header", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.AddContent(331, " Upload File Attachment ");
                }
                ));
                __builder2.AddAttribute(332, "Content", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.AddContent(333, " ");
                    __builder3.OpenComponent<PrOnWeb.Pages.Upload>(334);
                    __builder3.AddAttribute(335, "OnDNComplete", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, 
#nullable restore
#line 197 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                        CloseUploadDialog

#line default
#line hidden
#nullable disable
                    )));
                    __builder3.AddAttribute(336, "DocumentType", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Int32>(
#nullable restore
#line 197 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                         1

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(337, "DocumentId", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Int32>(
#nullable restore
#line 197 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                         PrId

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddContent(338, " ");
                }
                ));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(339, "\r\n                    ");
                __builder2.OpenComponent<Syncfusion.Blazor.Popups.DialogPositionData>(340);
                __builder2.AddAttribute(341, "X", "center");
                __builder2.AddAttribute(342, "Y", "center");
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(343, "\r\n                ");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(344, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(345, "\r\n            ");
            __builder.OpenElement(346, "div");
            __builder.AddAttribute(347, "class", "col-2");
            __builder.AddMarkupContent(348, "\r\n");
#nullable restore
#line 203 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                 if (prItems != null)
                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(349, "                    ");
            __builder.OpenComponent<PrOnWeb.Pages.Memo>(350);
            __builder.AddAttribute(351, "prNo", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Int32>(
#nullable restore
#line 205 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                PrId

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseComponent();
#nullable restore
#line 205 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                            }

#line default
#line hidden
#nullable disable
            __builder.AddContent(352, "            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(353, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(354, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(355, "\r\n    <hr>\r\n");
            __builder.AddContent(356, "    ");
            __builder.OpenElement(357, "div");
            __builder.AddAttribute(358, "class", "col-lg-12 control-section");
            __builder.AddMarkupContent(359, "\r\n        ");
            __builder.OpenElement(360, "div");
            __builder.AddAttribute(361, "class", "content-wrapper");
            __builder.AddMarkupContent(362, "\r\n            ");
            __builder.OpenElement(363, "div");
            __builder.AddAttribute(364, "class", "row");
            __builder.AddMarkupContent(365, "\r\n                ");
            __builder.OpenElement(366, "div");
            __builder.AddAttribute(367, "class", "col-md-12");
            __builder.AddMarkupContent(368, "\r\n                    ");
            __builder.OpenElement(369, "div");
            __builder.AddAttribute(370, "class", "row");
            __builder.AddMarkupContent(371, "\r\n                        ");
            __builder.OpenElement(372, "div");
            __builder.AddAttribute(373, "class", "col-md-1");
            __builder.AddMarkupContent(374, "\r\n                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Inputs.SfTextBox>(375);
            __builder.AddAttribute(376, "CssClass", "e-style");
            __builder.AddAttribute(377, "Placeholder", "Company");
            __builder.AddAttribute(378, "FloatLabelType", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Inputs.FloatLabelType>(
#nullable restore
#line 217 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                 FloatLabelType.Always

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(379, "Readonly", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 217 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                                                  true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(380, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 217 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                              prHeader.Company

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(381, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => prHeader.Company = __value, prHeader.Company))));
            __builder.AddAttribute(382, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => prHeader.Company));
            __builder.CloseComponent();
            __builder.AddMarkupContent(383, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(384, "\r\n                        ");
            __builder.OpenElement(385, "div");
            __builder.AddAttribute(386, "class", "col-md-1");
            __builder.AddMarkupContent(387, "\r\n                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Inputs.SfTextBox>(388);
            __builder.AddAttribute(389, "CssClass", "e-style");
            __builder.AddAttribute(390, "Placeholder", "Department");
            __builder.AddAttribute(391, "FloatLabelType", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Inputs.FloatLabelType>(
#nullable restore
#line 220 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                       FloatLabelType.Always

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(392, "Readonly", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 220 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                                                        true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(393, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 220 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                 prHeader.Department

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(394, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => prHeader.Department = __value, prHeader.Department))));
            __builder.AddAttribute(395, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => prHeader.Department));
            __builder.CloseComponent();
            __builder.AddMarkupContent(396, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(397, "\r\n                        ");
            __builder.OpenElement(398, "div");
            __builder.AddAttribute(399, "class", "col-md-1");
            __builder.AddMarkupContent(400, "\r\n                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Inputs.SfTextBox>(401);
            __builder.AddAttribute(402, "CssClass", "e-style");
            __builder.AddAttribute(403, "Placeholder", "Section");
            __builder.AddAttribute(404, "FloatLabelType", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Inputs.FloatLabelType>(
#nullable restore
#line 223 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                 FloatLabelType.Always

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(405, "Readonly", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 223 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                                                  true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(406, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 223 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                              prHeader.Section

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(407, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => prHeader.Section = __value, prHeader.Section))));
            __builder.AddAttribute(408, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => prHeader.Section));
            __builder.CloseComponent();
            __builder.AddMarkupContent(409, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(410, "\r\n                        ");
            __builder.OpenElement(411, "div");
            __builder.AddAttribute(412, "class", "col-md-2");
            __builder.AddMarkupContent(413, "\r\n                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Inputs.SfTextBox>(414);
            __builder.AddAttribute(415, "CssClass", "e-style");
            __builder.AddAttribute(416, "Placeholder", "Plant");
            __builder.AddAttribute(417, "FloatLabelType", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Inputs.FloatLabelType>(
#nullable restore
#line 226 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                             FloatLabelType.Always

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(418, "Readonly", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 226 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                                              true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(419, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 226 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                            prHeader.Plant

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(420, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => prHeader.Plant = __value, prHeader.Plant))));
            __builder.AddAttribute(421, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => prHeader.Plant));
            __builder.CloseComponent();
            __builder.AddMarkupContent(422, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(423, "\r\n                        ");
            __builder.OpenElement(424, "div");
            __builder.AddAttribute(425, "class", "col-md-2");
            __builder.AddMarkupContent(426, "\r\n                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Inputs.SfTextBox>(427);
            __builder.AddAttribute(428, "CssClass", "e-style");
            __builder.AddAttribute(429, "Placeholder", "Purchase Group");
            __builder.AddAttribute(430, "FloatLabelType", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Inputs.FloatLabelType>(
#nullable restore
#line 229 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                                 FloatLabelType.Always

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(431, "Readonly", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 229 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                                                                  true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(432, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 229 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                     prHeader.Purchasing_Group

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(433, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => prHeader.Purchasing_Group = __value, prHeader.Purchasing_Group))));
            __builder.AddAttribute(434, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => prHeader.Purchasing_Group));
            __builder.CloseComponent();
            __builder.AddMarkupContent(435, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(436, "\r\n                        ");
            __builder.OpenElement(437, "div");
            __builder.AddAttribute(438, "class", "col-md-5");
            __builder.AddMarkupContent(439, "\r\n                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Inputs.SfTextBox>(440);
            __builder.AddAttribute(441, "CssClass", "e-style");
            __builder.AddAttribute(442, "Placeholder", "Comment");
            __builder.AddAttribute(443, "FloatLabelType", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Inputs.FloatLabelType>(
#nullable restore
#line 232 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                 FloatLabelType.Always

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(444, "Readonly", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 232 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                                                  true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(445, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 232 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                              prHeader.Comment

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(446, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => prHeader.Comment = __value, prHeader.Comment))));
            __builder.AddAttribute(447, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => prHeader.Comment));
            __builder.CloseComponent();
            __builder.AddMarkupContent(448, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(449, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(450, "\r\n                    ");
            __builder.OpenElement(451, "div");
            __builder.AddAttribute(452, "class", "row");
            __builder.AddMarkupContent(453, "\r\n                        ");
            __builder.OpenElement(454, "div");
            __builder.AddAttribute(455, "class", "col-2");
            __builder.AddMarkupContent(456, "\r\n                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Inputs.SfTextBox>(457);
            __builder.AddAttribute(458, "CssClass", "e-style");
            __builder.AddAttribute(459, "Placeholder", "Requester");
            __builder.AddAttribute(460, "FloatLabelType", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Inputs.FloatLabelType>(
#nullable restore
#line 237 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                     FloatLabelType.Always

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(461, "Readonly", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 237 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                                                      true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(462, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 237 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                prHeader.Requester

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(463, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => prHeader.Requester = __value, prHeader.Requester))));
            __builder.AddAttribute(464, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => prHeader.Requester));
            __builder.CloseComponent();
            __builder.AddMarkupContent(465, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(466, "\r\n                        ");
            __builder.OpenElement(467, "div");
            __builder.AddAttribute(468, "class", "col-2");
            __builder.AddMarkupContent(469, "\r\n                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Inputs.SfTextBox>(470);
            __builder.AddAttribute(471, "CssClass", "e-style");
            __builder.AddAttribute(472, "Placeholder", "Submit by");
            __builder.AddAttribute(473, "FloatLabelType", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Inputs.FloatLabelType>(
#nullable restore
#line 240 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                              FloatLabelType.Always

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(474, "Readonly", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 240 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                                               true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(475, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 240 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                creatorName

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(476, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => creatorName = __value, creatorName))));
            __builder.AddAttribute(477, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => creatorName));
            __builder.CloseComponent();
            __builder.AddMarkupContent(478, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(479, "\r\n                        ");
            __builder.OpenElement(480, "div");
            __builder.AddAttribute(481, "class", "col-2");
            __builder.AddMarkupContent(482, "\r\n                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Inputs.SfTextBox>(483);
            __builder.AddAttribute(484, "CssClass", "e-style");
            __builder.AddAttribute(485, "Placeholder", "Tracking");
            __builder.AddAttribute(486, "FloatLabelType", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Inputs.FloatLabelType>(
#nullable restore
#line 243 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                      FloatLabelType.Always

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(487, "Readonly", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 243 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                                                       true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(488, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 243 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                               prHeader.Tracking_No

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(489, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => prHeader.Tracking_No = __value, prHeader.Tracking_No))));
            __builder.AddAttribute(490, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => prHeader.Tracking_No));
            __builder.CloseComponent();
            __builder.AddMarkupContent(491, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(492, "\r\n                        ");
            __builder.OpenElement(493, "div");
            __builder.AddAttribute(494, "class", "col-md-3");
            __builder.AddMarkupContent(495, "\r\n                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Inputs.SfTextBox>(496);
            __builder.AddAttribute(497, "CssClass", "e-style");
            __builder.AddAttribute(498, "Placeholder", "Total Budget (THB)");
            __builder.AddAttribute(499, "FloatLabelType", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Inputs.FloatLabelType>(
#nullable restore
#line 246 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                           FloatLabelType.Always

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(500, "Readonly", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 246 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                                                            true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(501, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 246 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                         prHeader.sPrAmt

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(502, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => prHeader.sPrAmt = __value, prHeader.sPrAmt))));
            __builder.AddAttribute(503, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => prHeader.sPrAmt));
            __builder.CloseComponent();
            __builder.AddMarkupContent(504, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(505, "\r\n                        ");
            __builder.OpenElement(506, "div");
            __builder.AddAttribute(507, "class", "col-md-3");
            __builder.AddMarkupContent(508, "\r\n                            ");
            __builder.OpenComponent<Syncfusion.Blazor.Inputs.SfTextBox>(509);
            __builder.AddAttribute(510, "CssClass", "e-style");
            __builder.AddAttribute(511, "Placeholder", "Budget Range (THB)");
            __builder.AddAttribute(512, "FloatLabelType", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Inputs.FloatLabelType>(
#nullable restore
#line 249 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                               FloatLabelType.Always

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(513, "Readonly", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 249 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                                                                true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(514, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 249 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                         thisBudgetRangeName

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(515, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => thisBudgetRangeName = __value, thisBudgetRangeName))));
            __builder.AddAttribute(516, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => thisBudgetRangeName));
            __builder.CloseComponent();
            __builder.AddMarkupContent(517, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(518, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(519, "\r\n                    ");
            __builder.OpenElement(520, "div");
            __builder.AddAttribute(521, "class", "row");
            __builder.AddAttribute(522, "style", "padding-top:10px;");
            __builder.AddMarkupContent(523, "\r\n");
#nullable restore
#line 253 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                         if (@RecordCount > 0 && isStaffChooser == true)
                        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(524, "                            ");
            __builder.OpenElement(525, "span");
            __builder.AddContent(526, "Assign Staff to ");
            __builder.AddContent(527, 
#nullable restore
#line 255 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                   RecordCount

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(528, " item(s)");
            __builder.CloseElement();
            __builder.AddMarkupContent(529, "\r\n                            ");
            __builder.OpenElement(530, "div");
            __builder.AddAttribute(531, "class", "row");
            __builder.AddMarkupContent(532, "\r\n                                ");
            __builder.OpenElement(533, "div");
            __builder.AddAttribute(534, "class", "col-md-6");
            __builder.AddMarkupContent(535, "\r\n");
#nullable restore
#line 258 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                     if (usersOfRole != null)
                                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(536, "                                        ");
            __builder.OpenComponent<Syncfusion.Blazor.DropDowns.SfDropDownList<int, ApplicationUser>>(537);
            __builder.AddAttribute(538, "PopupHeight", "230px");
            __builder.AddAttribute(539, "Placeholder", "Select Purchasing Staff");
            __builder.AddAttribute(540, "DataSource", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Collections.Generic.IEnumerable<ApplicationUser>>(
#nullable restore
#line 261 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                            usersOfRole

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(541, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<int>(
#nullable restore
#line 261 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                      StaffId

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(542, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<int>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<int>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => StaffId = __value, StaffId))));
            __builder.AddAttribute(543, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<int>>>(() => StaffId));
            __builder.AddAttribute(544, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(545, "\r\n                                            ");
                __builder2.OpenComponent<Syncfusion.Blazor.DropDowns.DropDownListFieldSettings>(546);
                __builder2.AddAttribute(547, "Text", "UserName");
                __builder2.AddAttribute(548, "Value", "PrUserId");
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(549, "\r\n                                        ");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(550, "\r\n");
#nullable restore
#line 264 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                    }

#line default
#line hidden
#nullable disable
            __builder.AddContent(551, "                                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(552, "\r\n                                ");
            __builder.OpenElement(553, "div");
            __builder.AddAttribute(554, "class", "col-6");
            __builder.AddMarkupContent(555, "\r\n                                    ");
            __builder.OpenComponent<Syncfusion.Blazor.Buttons.SfButton>(556);
            __builder.AddAttribute(557, "OnClick", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 267 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                        OnSaveStaff

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(558, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(559, "<i class=\"fa fa-save\"></i> Save Assign");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(560, "\r\n                                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(561, "\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(562, "\r\n");
#nullable restore
#line 270 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                         }

#line default
#line hidden
#nullable disable
            __builder.AddContent(563, "                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(564, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(565, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(566, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(567, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(568, "\r\n");
            __builder.AddMarkupContent(569, "    <hr>\r\n");
#nullable restore
#line 280 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
     if (prItems != null)
    {


#line default
#line hidden
#nullable disable
            __builder.AddContent(570, "        ");
            __Blazor.PrOnWeb.Pages.PrForm.TypeInference.CreateSfGrid_4(__builder, 571, 572, "Grid_PrForm", 573, 
#nullable restore
#line 283 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                          prItems

#line default
#line hidden
#nullable disable
            , 574, 
#nullable restore
#line 283 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                false

#line default
#line hidden
#nullable disable
            , 575, 
#nullable restore
#line 283 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                      true

#line default
#line hidden
#nullable disable
            , 576, (__builder2) => {
                __builder2.AddMarkupContent(577, "\r\n            ");
                __builder2.OpenComponent<Syncfusion.Blazor.Grids.GridSelectionSettings>(578);
                __builder2.AddAttribute(579, "Type", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.SelectionType>(
#nullable restore
#line 284 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                         Syncfusion.Blazor.Grids.SelectionType.Multiple

#line default
#line hidden
#nullable disable
                ));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(580, "\r\n            ");
                __builder2.OpenComponent<Syncfusion.Blazor.Grids.GridEvents<PRItem>>(581);
                __builder2.AddAttribute(582, "RowSelected", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Syncfusion.Blazor.Grids.RowSelectEventArgs<PRItem>>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Syncfusion.Blazor.Grids.RowSelectEventArgs<PRItem>>(this, 
#nullable restore
#line 285 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                     SelectRecords

#line default
#line hidden
#nullable disable
                )));
                __builder2.AddAttribute(583, "RowDeselected", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Syncfusion.Blazor.Grids.RowDeselectEventArgs<PRItem>>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Syncfusion.Blazor.Grids.RowDeselectEventArgs<PRItem>>(this, 
#nullable restore
#line 285 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                   DeSelectcords

#line default
#line hidden
#nullable disable
                )));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(584, "\r\n            ");
                __builder2.OpenComponent<Syncfusion.Blazor.Grids.GridColumns>(585);
                __builder2.AddAttribute(586, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.AddMarkupContent(587, "\r\n                ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Grids.GridColumn>(588);
                    __builder3.AddAttribute(589, "Type", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.ColumnType>(
#nullable restore
#line 287 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                  ColumnType.CheckBox

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(590, "Width", "30");
                    __builder3.AddAttribute(591, "Visible", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 287 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                           isStaffChooser

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(592, "HeaderTextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 287 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                            TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(593, "\r\n                ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Grids.GridColumn>(594);
                    __builder3.AddAttribute(595, "Field", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 288 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                   nameof(PRItem.Item_No)

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(596, "HeaderText", "#");
                    __builder3.AddAttribute(597, "TextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 288 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                    TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(598, "Width", "35");
                    __builder3.AddAttribute(599, "HeaderTextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 288 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                  TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(600, "Template", (Microsoft.AspNetCore.Components.RenderFragment<System.Object>)((context) => (__builder4) => {
                        __builder4.AddMarkupContent(601, "\r\n");
#nullable restore
#line 290 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                           var prItem0 = (context as PRItem);

#line default
#line hidden
#nullable disable
                        __builder4.AddContent(602, "                            ");
                        __builder4.OpenComponent<Syncfusion.Blazor.Buttons.SfButton>(603);
                        __builder4.AddAttribute(604, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 291 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                  () => LoadSingleItem(prItem0)

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(605, "CssClass", "e-small e-round btn-info");
                        __builder4.AddAttribute(606, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddMarkupContent(607, "<i class=\"fa fa-search\"></i>");
                        }
                        ));
                        __builder4.CloseComponent();
                        __builder4.AddMarkupContent(608, "\r\n");
                        __builder4.AddContent(609, "                    ");
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(610, "\r\n                ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Grids.GridColumn>(611);
                    __builder3.AddAttribute(612, "Field", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 295 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                   nameof(PRItem.PR_Closed)

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(613, "HeaderText", "Close");
                    __builder3.AddAttribute(614, "DisplayAsCheckBox", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 295 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                  true

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(615, "Width", "80");
                    __builder3.AddAttribute(616, "TextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 295 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                              TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(617, "HeaderTextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 295 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                                                 TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(618, "\r\n                ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Grids.GridColumn>(619);
                    __builder3.AddAttribute(620, "Field", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 296 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                   nameof(PRItem.Delete_Status)

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(621, "HeaderText", "Delete");
                    __builder3.AddAttribute(622, "TextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 296 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                               TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(623, "Width", "80");
                    __builder3.AddAttribute(624, "HeaderTextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 296 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                             TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(625, "Template", (Microsoft.AspNetCore.Components.RenderFragment<System.Object>)((context) => (__builder4) => {
                        __builder4.AddMarkupContent(626, "\r\n");
#nullable restore
#line 298 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                           var prItem0 = (context as PRItem);
                            if (prItem0.Delete_Status != null && prItem0.Delete_Status.StartsWith("DEL"))
                            {

#line default
#line hidden
#nullable disable
                        __builder4.AddContent(627, "                                ");
                        __builder4.AddMarkupContent(628, "<span style=\"color:red;\"><i class=\"fa fa-trash\"></i></span>\r\n");
#nullable restore
#line 302 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                            } 

#line default
#line hidden
#nullable disable
                        __builder4.AddContent(629, "                    ");
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(630, "\r\n\r\n                ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Grids.GridColumn>(631);
                    __builder3.AddAttribute(632, "Field", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 306 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                   nameof(PRItem.Item_Description)

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(633, "HeaderText", "Description");
                    __builder3.AddAttribute(634, "Width", "300");
                    __builder3.AddAttribute(635, "HeaderTextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 306 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                         TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(636, "\r\n\r\n                ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Grids.GridColumn>(637);
                    __builder3.AddAttribute(638, "Field", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 308 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                   nameof(PRItem.Item_Code)

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(639, "HeaderText", "Item Code");
                    __builder3.AddAttribute(640, "Width", "120");
                    __builder3.AddAttribute(641, "HeaderTextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 308 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(642, "Template", (Microsoft.AspNetCore.Components.RenderFragment<System.Object>)((context) => (__builder4) => {
                        __builder4.AddMarkupContent(643, "\r\n");
#nullable restore
#line 310 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                           var prItem = (context as PRItem);
                            

#line default
#line hidden
#nullable disable
                        __builder4.AddContent(644, 
#nullable restore
#line 311 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                             prItem.Item_Code.TrimStart(new Char[] { '0' })

#line default
#line hidden
#nullable disable
                        );
#nullable restore
#line 311 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                           ; 

#line default
#line hidden
#nullable disable
                        __builder4.AddContent(645, "                    ");
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(646, "\r\n                ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Grids.GridColumn>(647);
                    __builder3.AddAttribute(648, "Field", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 314 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                   nameof(prItem.Price_PR)

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(649, "HeaderText", "Cost");
                    __builder3.AddAttribute(650, "Width", "120");
                    __builder3.AddAttribute(651, "HeaderTextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 314 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                          TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(652, "TextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 314 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                       TextAlign.Right

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(653, "Template", (Microsoft.AspNetCore.Components.RenderFragment<System.Object>)((context) => (__builder4) => {
                        __builder4.AddMarkupContent(654, "\r\n");
#nullable restore
#line 316 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                           var prI = (context as PRItem);
                            int priceUnit;

                            priceUnit = prI.Price_Unit == 0 ? 1 : prI.Price_Unit;
                            var SubTotal = prI.Price_PR * prI.Quantity / priceUnit;

#line default
#line hidden
#nullable disable
                        __builder4.AddContent(655, "                            ");
                        __builder4.OpenElement(656, "span");
                        __builder4.AddContent(657, 
#nullable restore
#line 321 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                   SubTotal.ToString("N2")

#line default
#line hidden
#nullable disable
                        );
                        __builder4.CloseElement();
                        __builder4.AddMarkupContent(658, "\r\n");
                        __builder4.AddContent(659, "                    ");
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(660, "\r\n                ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Grids.GridColumn>(661);
                    __builder3.AddAttribute(662, "Field", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 325 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                   nameof(PRItem.Currency)

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(663, "HeaderText", "Currency");
                    __builder3.AddAttribute(664, "Width", "90");
                    __builder3.AddAttribute(665, "HeaderTextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 325 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                             TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(666, "TextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 325 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                          TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(667, "\r\n                ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Grids.GridColumn>(668);
                    __builder3.AddAttribute(669, "Field", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 326 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                   nameof(PRItem.Quantity)

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(670, "HeaderText", "Qty.");
                    __builder3.AddAttribute(671, "Width", "70");
                    __builder3.AddAttribute(672, "HeaderTextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 326 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                         TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(673, "TextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 326 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                      TextAlign.Right

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(674, "\r\n                ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Grids.GridColumn>(675);
                    __builder3.AddAttribute(676, "Field", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 327 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                   nameof(PRItem.UOM)

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(677, "HeaderText", "Unit");
                    __builder3.AddAttribute(678, "Width", "70");
                    __builder3.AddAttribute(679, "HeaderTextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 327 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                    TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(680, "TextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 327 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                 TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(681, "\r\n                ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Grids.GridColumn>(682);
                    __builder3.AddAttribute(683, "Field", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 328 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                   nameof(PRItem.Requistion_date)

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(684, "HeaderText", "Issuing Date");
                    __builder3.AddAttribute(685, "Format", "d/M/yyyy");
                    __builder3.AddAttribute(686, "Width", "100");
                    __builder3.AddAttribute(687, "HeaderTextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 328 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                           TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(688, "TextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 328 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                                                        TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(689, "\r\n                ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Grids.GridColumn>(690);
                    __builder3.AddAttribute(691, "Field", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 329 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                   nameof(PRItem.Delivery_date)

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(692, "HeaderText", "Date Needed");
                    __builder3.AddAttribute(693, "Format", "d/M/yyyy");
                    __builder3.AddAttribute(694, "Width", "100");
                    __builder3.AddAttribute(695, "HeaderTextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 329 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                        TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(696, "TextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 329 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                                                     TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(697, "\r\n                ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Grids.GridColumn>(698);
                    __builder3.AddAttribute(699, "Field", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 330 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                   nameof(PRItem.Purchasing_Staff)

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(700, "HeaderText", "Purchaser");
                    __builder3.AddAttribute(701, "Width", "100");
                    __builder3.AddAttribute(702, "HeaderTextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 330 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                       TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(703, "\r\n                ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Grids.GridColumn>(704);
                    __builder3.AddAttribute(705, "Field", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 331 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                   nameof(PRItem.Staff_assign_date)

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(706, "HeaderText", "Purc.Recv");
                    __builder3.AddAttribute(707, "Format", "d/M/yyyy");
                    __builder3.AddAttribute(708, "Width", "100");
                    __builder3.AddAttribute(709, "HeaderTextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 331 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                          TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(710, "TextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 331 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                                                                       TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(711, "\r\n                ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Grids.GridColumn>(712);
                    __builder3.AddAttribute(713, "Field", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 332 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                   nameof(PRItem.GL_Account)

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(714, "HeaderText", "Account");
                    __builder3.AddAttribute(715, "Width", "100");
                    __builder3.AddAttribute(716, "HeaderTextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 332 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                               TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(717, "\r\n                ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Grids.GridColumn>(718);
                    __builder3.AddAttribute(719, "Field", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 333 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                   nameof(PRItem.Cost_Center)

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(720, "HeaderText", "Cost Center");
                    __builder3.AddAttribute(721, "Width", "120");
                    __builder3.AddAttribute(722, "HeaderTextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 333 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                                    TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(723, "\r\n                ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Grids.GridColumn>(724);
                    __builder3.AddAttribute(725, "Field", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 334 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                   nameof(PRItem.WBS_Code)

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(726, "HeaderText", "WBS code");
                    __builder3.AddAttribute(727, "Width", "100");
                    __builder3.AddAttribute(728, "HeaderTextAlign", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Grids.TextAlign>(
#nullable restore
#line 334 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                              TextAlign.Center

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(729, "\r\n            ");
                }
                ));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(730, "\r\n        ");
            }
            , 731, (__value) => {
#nullable restore
#line 283 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                       Grid = __value;

#line default
#line hidden
#nullable disable
            }
            );
            __builder.AddMarkupContent(732, "\r\n");
            __builder.AddContent(733, "        ");
            __builder.OpenComponent<Syncfusion.Blazor.Popups.SfDialog>(734);
            __builder.AddAttribute(735, "Width", "750px");
            __builder.AddAttribute(736, "IsModal", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 338 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                           true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(737, "ShowCloseIcon", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 338 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                                true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(738, "Visible", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 338 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                isItemDlgVisible

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(739, "VisibleChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.Boolean>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.Boolean>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => isItemDlgVisible = __value, isItemDlgVisible))));
            __builder.AddAttribute(740, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(741, "\r\n            ");
                __builder2.OpenComponent<Syncfusion.Blazor.Popups.DialogTemplates>(742);
                __builder2.AddAttribute(743, "Header", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.AddMarkupContent(744, "\r\n                    PR Line Items\r\n                ");
                }
                ));
                __builder2.AddAttribute(745, "Content", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.AddMarkupContent(746, "\r\n                    ");
                    __builder3.OpenElement(747, "div");
                    __builder3.AddAttribute(748, "class", "dialogContent");
                    __builder3.AddMarkupContent(749, "\r\n                        ");
                    __builder3.OpenComponent<PrOnWeb.Pages.PrItemDetail>(750);
                    __builder3.AddAttribute(751, "onDlgClose", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 345 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                      CloseItemDlg

#line default
#line hidden
#nullable disable
                    )));
                    __builder3.AddComponentReferenceCapture(752, (__value) => {
#nullable restore
#line 345 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                            prItemDetail = (PrOnWeb.Pages.PrItemDetail)__value;

#line default
#line hidden
#nullable disable
                    }
                    );
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(753, "\r\n                    ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(754, "\r\n                ");
                }
                ));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(755, "\r\n\r\n        ");
            }
            ));
            __builder.CloseComponent();
            __builder.AddContent(756, " ");
#nullable restore
#line 351 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                    } 

#line default
#line hidden
#nullable disable
            __builder.AddContent(757, "    ");
            __builder.OpenComponent<Syncfusion.Blazor.Popups.SfDialog>(758);
            __builder.AddAttribute(759, "Target", "#target");
            __builder.AddAttribute(760, "Width", "300px");
            __builder.AddAttribute(761, "Visible", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 352 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                              isRejectVisible

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(762, "VisibleChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.Boolean>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.Boolean>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => isRejectVisible = __value, isRejectVisible))));
            __builder.AddAttribute(763, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(764, "\r\n        ");
                __builder2.OpenComponent<Syncfusion.Blazor.Popups.DialogTemplates>(765);
                __builder2.AddAttribute(766, "Header", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.AddMarkupContent(767, "\r\n                Reject reason:\r\n            ");
                }
                ));
                __builder2.AddAttribute(768, "Content", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.AddMarkupContent(769, "\r\n                ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Inputs.SfTextBox>(770);
                    __builder3.AddAttribute(771, "CssClass", "e-outline");
                    __builder3.AddAttribute(772, "Placeholder", "Message ...");
                    __builder3.AddAttribute(773, "Multiline", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 359 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                      true

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(774, "FloatLabelType", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Inputs.FloatLabelType>(
#nullable restore
#line 359 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                             FloatLabelType.Never

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(775, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 358 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                                        RejectReason

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(776, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => RejectReason = __value, RejectReason))));
                    __builder3.AddAttribute(777, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => RejectReason));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(778, "\r\n            ");
                }
                ));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(779, "\r\n        ");
                __builder2.OpenComponent<Syncfusion.Blazor.Popups.DialogButtons>(780);
                __builder2.AddAttribute(781, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.AddMarkupContent(782, "\r\n            ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Popups.DialogButton>(783);
                    __builder3.AddAttribute(784, "Content", "Save");
                    __builder3.AddAttribute(785, "IsPrimary", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 363 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                    true

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(786, "OnClick", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 363 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                    ConfirmReject

#line default
#line hidden
#nullable disable
                    )));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(787, "\r\n            ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Popups.DialogButton>(788);
                    __builder3.AddAttribute(789, "Content", "Cancel");
                    __builder3.AddAttribute(790, "IsPrimary", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 364 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                      true

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(791, "OnClick", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 364 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
                                                                      CancelReject

#line default
#line hidden
#nullable disable
                    )));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(792, "\r\n        ");
                }
                ));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(793, "\r\n    ");
            }
            ));
            __builder.CloseComponent();
#nullable restore
#line 366 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
               }

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(794, "\r\n");
#nullable restore
#line 368 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
  if (isBlocked)
{

#line default
#line hidden
#nullable disable
            __builder.AddContent(795, "    ");
            __builder.AddMarkupContent(796, "<div class=\"loader\"> <div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div></div>\r\n");
#nullable restore
#line 371 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
}

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(797, "\r\n\r\n\r\n<link rel=\"stylesheet\" type=\"text/css\" href=\"css/prform-style.css\">");
        }
        #pragma warning restore 1998
#nullable restore
#line 377 "D:\WORK\2019\PH\PR Online\Source Code\PrOnWeb\Pages\PrForm.razor"
       

    /** For DEV Mode ***/
    bool isTestEnv = false;

    // Authentication
    [CascadingParameter]
    private Task<AuthenticationState> authenticationStateTask { get; set; }
    [CascadingParameter]
    private Task<AuthenticationState> _authState { get; set; }
    private AuthenticationState authState;
    ClaimsPrincipal MyClaims = new ClaimsPrincipal();
    int MyUserId;

    [Parameter] public int PrId { get; set; }

    string PrStatus;
    string PrStatusName;
    vPRHeader prHeader;
    List<PRItem> prItems;
    PRItem prItem;
    string thisPrODS; // ODS=Company, Department, Section คั่นด้วย "-"
    bool isMySectionPr; // ODS ของ PR ใบนี้ตรงกับ ODS ของ WF_Autho ของเรา
    string thisPrOD;
    bool isMyDepartmentPr;
    string thisPrO;
    bool isMyCompanyPr;
    bool isStaffChooser;
    bool isBlocked = false;
    bool isRequester = false;

    public string UploadPath = "images";
    public int MaxUploadFileSize = 10000000;
    public List<SystemConfiguration> configs;

    double prAmount = 0.00;
    int thisBudgetRange = 0;
    string thisBudgetRangeName = "";
    string creatorName;

    Approval_flow myApproval_flow;
    int thisApprovalFlowId;
    List<vApproval_flow> thisPrApproval_Flows;
    List<ApprValues> apprFlow = new List<ApprValues>();
    List<ReturningNote> returningNotes;

    [CascadingParameter]
    public MainLayout Layout { get; set; }
    IList<ApplicationUser> mailUsersOfRole;
    IList<ApplicationUser> usersOfRole;

    string SmNamePDF = "";
    string DmNamePDF = "";
    string L3NamePDF = "";
    string L4NamePDF = "";
    string L5NamePDF = "";
    string L6NamePDF = "";
    string L7NamePDF = "";

    public SfGrid<PRItem> Grid;
    bool isPM = false;
    bool isDeleteFileDisable = true;

    bool isReadOnly = true;
    string CoSignGroupSelect = ""; // filled by CheckItemAccountCosign

    public class CoSigners
    {
        public string CoSignGroup { get; set; }
        public string CoSignName { get; set; }
    }
    private List<CoSigners> coSigners = new List<CoSigners>()
{
        new CoSigners(){CoSignGroup="--", CoSignName="-Don't need Co-Sign-"},
        new CoSigners(){CoSignGroup="CSAD", CoSignName="Admin"},
        new CoSigners(){CoSignGroup="CSIT", CoSignName="IT"},
        new CoSigners(){CoSignGroup="CSQC", CoSignName="QC"},
        new CoSigners(){CoSignGroup="CSSE", CoSignName="Safety"}
    };
    // Mode : E = Edit, V = View, P = Wait for Approve, C = รอ Close สำหรับ PS DM
    // Mode : X = Close แล้ว, W= Wait for Cancel, H = Hold


    string _Mode = "V";
    [Parameter]
    public string Mode
    {
        get
        {
            return _Mode;
        }
        set
        {
            _Mode = value;
            switch (value)
            {
                case "E":
                    isReadOnly = false;
                    break;
                default:
                    isReadOnly = true;
                    break;
            }
        }
    }

    bool isItemDlgVisible { get; set; } = false;
    private void OnDialogBtnClick()
    {
        isItemDlgVisible = false;
    }
    private void OnOpenButtonClick()
    {
        isItemDlgVisible = true;
    }
    private void OnRnClick()
    {
        navigationManager.NavigateTo($"rnform/G/{PrId}/{prItem.Item_No}");
    }

    List<PRItem> Temp;
    int RecordCount = 0;
    public List<double> SelectedRowIndexes { get; set; }

    public void CountRecord()
    {
        var temp = this.Grid.GetSelectedRecords();
        RecordCount = temp.Result.Count;
        temp.GetAwaiter().OnCompleted(() =>
        {
            this.Temp = temp.Result; // here you I get the selected row datas in form list of objects.
            StateHasChanged();
        });
    }


    public async Task SelectRecords(RowSelectEventArgs<PRItem> args)
    {
        SelectedRowIndexes = await this.Grid.GetSelectedRowIndexes();
        var temp = this.Grid.GetSelectedRecords();
        RecordCount = temp.Result.Count;
        StateHasChanged();
    }
    public async Task DeSelectcords(RowDeselectEventArgs<PRItem> args)
    {
        SelectedRowIndexes = await this.Grid.GetSelectedRowIndexes();
        var temp = this.Grid.GetSelectedRecords();
        RecordCount = temp.Result.Count;
        StateHasChanged();
    }

    int StaffId;
    public async Task OnSaveStaff()
    {
        var SelectedItem = this.Grid.GetSelectedRecords();
        foreach (var item in SelectedItem.Result)
        {
            if (!item.PR_Closed)
            {
                item.Purchasing_Staff_Id = StaffId;
                item.Purchasing_Staff = usersOfRole.Where(x => x.PrUserId == StaffId.ToString()).FirstOrDefault().UserName;
                item.Staff_assign_date = DateTime.Now;
                await prMainService.UpdatePRItemAsync(item);
            }
        }
        await Grid.ClearSelection();
        Grid.Refresh();
        // check ว่า ได้ assign ครบทุกรายการหรือยัง
        bool isAllAssign = true;
        foreach (var item in prItems)
        {
            if (item.Purchasing_Staff_Id == 0 && item.PR_Closed == false && !item.Delete_Status.StartsWith("DELE"))
            {
                isAllAssign = false;
            }
        }
        if (isAllAssign)
        {
            thisPrApproval_Flows = await prDataService.GetvApprovalFlowPrHeadAsync(PrId);
            foreach (var item in thisPrApproval_Flows)
            {
                if (item.Approver_role.StartsWith("PD"))
                {
                    thisApprovalFlowId = item.Id;
                }
            }
            myApproval_flow = await prDataService.GetApprovalFlowFromIdAsync(thisApprovalFlowId);
            // ทำการบันทึก Status การ Approve
            myApproval_flow.Status = "A";
            myApproval_flow.When_end = DateTime.Now;
            myApproval_flow.Approver_id = MyUserId;
            await prDataService.UpdateApprovalFlowAsync(myApproval_flow);
        }
    }

    public class ApprValues
    {
        public string? Text { get; set; }
        public string? Name { get; set; }
        public DateTime? Date { get; set; }
        public Boolean isChecked { get; set; }
    }

    private async Task GenApproveFlow()
    {
        // Load active Approval_Flow
        // loop see if Is_Disable = false & UserId is me
        thisPrApproval_Flows = await prDataService.GetvApprovalFlowPrHeadAsync(PrId);
        //แสดง status ของ step ต่างๆ
        foreach (var Item in thisPrApproval_Flows)
        {
            if (Item.Is_disabled == false)
            {
                thisApprovalFlowId = Item.Id;
                if (Item.Approver_id == MyUserId && !Item.Approver_role.StartsWith("PD"))
                {
                    Mode = "P";
                }
            }
            switch (Item.Approver_role)
            {
                case "CREATOR":
                    creatorName = Item.Approver_Name;
                    break;
                case "PAAC":

                    if (Item.Status == "A")
                    {
                        apprFlow.Add(new ApprValues { Text = "Accounting:", Name = Item.Approver_Name, Date = Item.When_end, isChecked = true });
                    }
                    else
                    {
                        apprFlow.Add(new ApprValues { Text = "Accounting:", Name = Item.Approver_Name, isChecked = false });
                    }
                    break;
                case "CSSE":
                case "CSIT":
                case "CSAD":
                case "CSQC":
                    //apprFlow.Add(new ApprValues { Text = "CoSign", isChecked = (Item.Status == "A" ? true : false) });
                    if (Item.Status == "A")
                    {
                        apprFlow.Add(new ApprValues { Text = "CoSign:", Name = Item.Approver_Name, Date = Item.When_end, isChecked = true });
                    }
                    else
                    {
                        apprFlow.Add(new ApprValues { Text = "CoSign:", Name = Item.Approver_Name, isChecked = false });
                    }
                    break;
                case "PASM":
                    SmName = Item.Approver_Name;
                    if (Item.Status == "A")
                    {
                        SmNamePDF = SmName;
                        apprFlow.Add(new ApprValues { Text = "SM:", Name = Item.Approver_Name, Date = Item.When_end, isChecked = true });
                    }
                    else
                    {
                        apprFlow.Add(new ApprValues { Text = "SM:", Name = Item.Approver_Name, isChecked = false });
                    }

                    break;
                case "PADM":
                    DmName = Item.Approver_Name;
                    if (Item.Status == "A")
                    {
                        DmNamePDF = DmName;
                        // Approve Name Get Postion // Position = 3 >> L3Name
                        apprFlow.Add(new ApprValues { Text = "DM:", Name = Item.Approver_Name, Date = Item.When_end, isChecked = true });
                    }
                    else
                    {
                        apprFlow.Add(new ApprValues { Text = "DM:", Name = Item.Approver_Name, isChecked = false });
                    }
                    break;
                case "PAL2": // เปลี่ยนจาก L3 เป็น Approver ==> SrDepMgr/ Executiver
                    L3Name = Item.Approver_Name;
                    if (Item.Status == "A")
                    {
                        L3NamePDF = L3Name;
                        apprFlow.Add(new ApprValues { Text = "Appr:", Name = Item.Approver_Name, Date = Item.When_end, isChecked = true });
                    }
                    else
                    {
                        apprFlow.Add(new ApprValues { Text = "Appr:", Name = Item.Approver_Name, isChecked = false });
                    }
                    break;
                case "PAL3": // เปลี่ยนจาก L4 เป็น Approver ==> Advisor/VM
                    L4Name = Item.Approver_Name;
                    if (Item.Status == "A")
                    {
                        L4NamePDF = L4Name;
                        apprFlow.Add(new ApprValues { Text = "Appr:", Name = Item.Approver_Name, Date = Item.When_end, isChecked = true });
                    }
                    else
                    {
                        apprFlow.Add(new ApprValues { Text = "Appr:", Name = Item.Approver_Name, isChecked = false });
                    }
                    break;
                case "PAL4": // เปลี่ยนจาก L5 เป็น Approver ==> Plant Manager
                    L5Name = Item.Approver_Name;
                    if (Item.Status == "A")
                    {
                        L5NamePDF = L5Name;
                        apprFlow.Add(new ApprValues { Text = "Appr:", Name = Item.Approver_Name, Date = Item.When_end, isChecked = true });
                    }
                    else
                    {
                        apprFlow.Add(new ApprValues { Text = "Appr:", Name = Item.Approver_Name, isChecked = false });
                    }
                    break;
                case "PAL5": // เปลี่ยนจาก L6 เป็น Approver ==> Vice President
                    L6Name = Item.Approver_Name;
                    if (Item.Status == "A")
                    {
                        L6NamePDF = L6Name;
                        apprFlow.Add(new ApprValues { Text = "Appr:", Name = Item.Approver_Name, Date = Item.When_end, isChecked = true });
                    }
                    else
                    {
                        apprFlow.Add(new ApprValues { Text = "Appr:", Name = Item.Approver_Name, isChecked = false });
                    }
                    break;
                case "PAL6": // เปลี่ยนจาก L7 เป็น Approver ==> President
                    L7Name = Item.Approver_Name;
                    if (Item.Status == "A")
                    {
                        L7NamePDF = L7Name;
                        apprFlow.Add(new ApprValues { Text = "Appr:", Name = Item.Approver_Name, Date = Item.When_end, isChecked = true });
                    }
                    else
                    {
                        apprFlow.Add(new ApprValues { Text = "Appr:", Name = Item.Approver_Name, isChecked = false });
                    }
                    break;

                default:
                    break;
            }
        }
    }

    private async Task GetRnList()
    {
        returningNotes = await prDataService.GetRnListFromPrIdAsync(PrId);
    }

    private async Task loadConfiguration()
    {
        configs = await prDataService.GetSystemConfigurationsAsync();
        UploadPath = configs.Where(y => y.ConfigName == "FUPATH")
            .Select(x => x.ConfigValue)
            .FirstOrDefault();
        int FuSize = Int32.Parse(configs.Where(y => y.ConfigName == "FUSIZE")
            .Select(x => x.ConfigValue)
            .FirstOrDefault());
        MaxUploadFileSize = FuSize;
    }

    private async Task SetMyDeptSecPR()
    {
        thisPrODS = prHeader.Company + "-" + prHeader.Department + "-" + prHeader.Section;
        thisPrOD = prHeader.Company + "-" + prHeader.Department;
        thisPrO = prHeader.Company;
        isMySectionPr = false;
        isMyDepartmentPr = false;
        isMyCompanyPr = false;
        var myWorkflowAuthos = await prDataService.GetWorkflowAuthosAsync(MyUserId);
        foreach (var item in myWorkflowAuthos) // อาจมี หลาย workflow
        {
            if (thisPrODS == item.Org + "-" + item.Dep + "-" + item.Sec)
            {
                isMySectionPr = true;
            }
            if (thisPrOD == item.Org + "-" + item.Dep)
            {
                isMyDepartmentPr = true;
            }
            if (thisPrO == item.Org)
            {
                isMyCompanyPr = true;
            }
        }
    }

    //====================================================
    protected override async Task OnInitializedAsync()
    {
        authState = await _authState;
        MyClaims = (await _authState).User;

        if (MyClaims.Identity.IsAuthenticated)
        {
            // พบปัญหา เมื่อ publish ขึ้น server จริง แม้ยังไม่ได้ login แต่ identity IsAuthenticated เป็น true โดยที่ยังไม่มี claims
            // ทำให้เกิด error
            var thisUser = _UserManager.Users.FirstOrDefault(x => x.UserName == MyClaims.Identity.Name);
            if (thisUser == null)
            {
                navigationManager.NavigateTo("Identity/Account/Login?returnUrl=~/" +
                    navigationManager.ToBaseRelativePath(navigationManager.Uri));
            }
            else
            {
                //Layout.SidebarToggle = false;
                MyUserId = Int16.Parse(MyClaims.Claims.FirstOrDefault(c => c.Type == "PrUserId").Value);
                var myUserName = MyClaims.Claims.FirstOrDefault(c => c.Type == ClaimTypes.Name).Value;

                // Load Pr
                prHeader = await prMainService.GetvPrHeaderAsync(PrId);
                await SetMyDeptSecPR();
                isCGConcerning = prHeader.Need_CG_Concerning;
                isSCAConcerning = prHeader.Need_SCA_Concerning;
                isISONeed = prHeader.Need_ISO;
                ObjectiveEdit = prHeader.Objective;
                CoSignGroupSelect = prHeader.CoSign_Group;

                prItems = await prMainService.GetPrItemsAsync(PrId);
                PrStatus = (prHeader.Status == null) ? "NEW" : prHeader.Status;
                PrStatusName = prHeader.PrStatus;
                prAmount = prHeader.PrAmt;
                await FindBudgetRange();
                await loadConfiguration();
                Mode = "I"; // set เป็น default ไว้ก่อน

                // state of button
                isStaffChooser = false;

                if (MyClaims.IsInRole("PSManager")) //PSManager
                {
                    var myWorkflowAutho = await prDataService.GetWorkflowAuthosAsync(MyUserId);
                    foreach (var item in myWorkflowAutho)
                    {
                        if (item.Dep == "PH")
                        {
                            isPM = true;
                            usersOfRole = await _UserManager.GetUsersInRoleAsync("PH");
                            if (PrStatus == "PDHO" || PrStatus == "RN")
                            {
                                isStaffChooser = true;
                            }
                        }
                        if (item.Dep == "PF")
                        {
                            isPM = true;
                            usersOfRole = await _UserManager.GetUsersInRoleAsync("PF");
                            if (PrStatus == "PDRY" || PrStatus == "RN")
                            {
                                isStaffChooser = true;
                            }
                        }
                    }
                }
                if (isPM)
                {
                    switch (PrStatus)
                    {
                        case "PDRY":
                        case "PDHO":
                            Mode = "C";
                            break;
                        case "CLOS":
                            Mode = "X";
                            isPM = false;
                            break;
                        default:
                            Mode = "I";
                            break;
                    }
                }
                if (MyClaims.IsInRole("Accountings") && isMyCompanyPr == true && (PrStatus == "PAAC"))
                {
                    Mode = "P";
                }
                if (MyClaims.IsInRole("SMs") && isMySectionPr == true && (PrStatus == "PASM"))
                {
                    Mode = "P";
                }
                if (MyClaims.IsInRole("DMs") && isMyDepartmentPr == true && (PrStatus == "PADM"))
                {
                    Mode = "P";
                }
                if (MyClaims.IsInRole("QCCoSigner") && isMyCompanyPr == true && (PrStatus == "CSQC"))
                {
                    Mode = "P";
                }
                if (MyClaims.IsInRole("ITCoSigner") && isMyCompanyPr == true && (PrStatus == "CSIT"))
                {
                    Mode = "P";
                }
                if (MyClaims.IsInRole("SECoSigner") && isMyCompanyPr == true && (PrStatus == "CSSE"))
                {
                    Mode = "P";
                }
                if (MyClaims.IsInRole("ADCoSigner") && isMyCompanyPr == true && (PrStatus == "CSAD"))
                {
                    Mode = "P";
                }
                if (MyClaims.IsInRole("PF") && (PrStatus == "PDRY"))
                {
                    Mode = "R";
                }
                if (MyClaims.IsInRole("PH") && (PrStatus == "PDHO"))
                {
                    Mode = "R";
                    //isPurch = true;
                }
                if (MyClaims.IsInRole("Requester") && isMySectionPr == true)
                { // Yes, I am Requester
                    isRequester = true;
                    switch (PrStatus)
                    {
                        case "NEW":
                        case "REJ":
                            Mode = "V";
                            await CheckItemAccountCosign(); // do we need Accounting and CoSign approval ?
                            await FindBudgetRange();
                            await FindApprovers();
                            break;
                        default:
                            break;
                    }
                }

                await GenApproveFlow(); // <-- Mode P อยู่ที่นี่
                await GetRnList();
                await GetUploadFileList();
                if (MyClaims.IsInRole("Requester"))
                {
                    isDeleteFileDisable = false;
                }
            }
        }
    }

    //Check Item Account and Cosign
    bool Need_accounting = false;
    private async Task CheckItemAccountCosign()
    {
        // ยกเลิกการ Check Accounting
        Need_accounting = true; //ปกติ ไม่ต้องผ่าน Accounting
                                // Accounting config
        SystemConfiguration getConfig = await prDataService.GetSystemConfigurationAsync("AC");
        // ยกเว้นกลุ่ม 1000,2000,7000 ไม่ต้องผ่าน
        // เพิ่ม "*" คือ ไม่ต้องผ่านทั้งหมด
        string[] Ags = { "1000", "2000", "7000" };
        if (getConfig != null)
        {
            // Acs = 1000,2000
            Ags = getConfig.ConfigValue.Split(",");
        }

        //CoSignGroupSelect = CoSignGroupSelect; //ปกติ ให้ user เลือก Co-sign เอง
        // Co-Sign config
        getConfig = await prDataService.GetSystemConfigurationAsync("CO");
        string[] Cgs = { "1000", "2000" };
        if (getConfig != null)
        {
            // Cgs = 1000,2000
            Cgs = getConfig.ConfigValue.Split(",");
        }

        //List<MatRegList> matList = await prDataService.GetMatRegListsAsync();

        // loop ทีละ item
        foreach (PRItem prItem in prItems)
        {
            foreach (var a in Ags) // 1000, หรือ 2000
            {
                if (a == "*") // by pass all
                {
                    Need_accounting = false;
                    break;
                }
                if (prItem.Material_Group == a) // เจอ 1000 หรือ 2000
                {
                    Need_accounting = false; // เฉพาะ case ที่มีอยู่ใน config คือ ต้องผ่าน Account
                    break;
                }
            }
            foreach (var c in Cgs)
            {
                if (prItem.Material_Group == c) // เจอ 1000 หรือ 2000
                {
                    //var ml = matList.Where(x => x.Mat_Code == c && x.Mat_Group == prItem.Item_Code.TrimStart('0')).ToList();
                    bool ml = await prDataService.IsItemCodeInMatListAsync(prItem.Item_Code);
                    if (ml == false) // ไม่มีอยู่ใน Mat list
                    {
                        // ถ้าเป็น 1000,2000 ให้ loop หาใน Mat List
                        // ถ้า "ไม่เจอ" ใน Mat list ให้ Assign ให้กับ QC
                        CoSignGroupSelect = "CSQC";
                        break;
                    }
                }
            }
        }
    }



    // 210628 ปรับใหม่

    //private async Task CheckItemAccountCosign()
    //{
    //    // ยกเลิกการ Check Accounting
    //    foreach (PRItem prItem in prItems)
    //    {
    //        List<SystemConfiguration> Css = await prDataService.GetSystemConfigurationsAsync("CS");

    //        // CSIT, CSQC, CSST
    //        string Cs = "";
    //        // Css = CSIT: 1000,2000 // CSQC: 3000 // CSST: 4000,5000
    //        string[] Cgs;
    //        foreach (var item in Css)
    //        {
    //            Cgs = item.ConfigValue.Split(",");
    //            foreach (var g in Cgs)
    //            {
    //                if (prItem.Material_Group == g)
    //                {
    //                    Cs = item.ConfigName.Substring(2, 2); // <--- Co-signer Type QC,IT,ST
    //                    break;
    //                }
    //            }
    //        }
    //        if (Cs == "") // not match
    //        {
    //            // ใช้ QC - DM ของ Company เป็น Co-sign
    //            Cs = "QC";
    //        }

    //        // ไปที่ Role Co-Sign
    //        var coSigners = await _UserManager.GetUsersInRoleAsync("CoSigner");
    //        List<WorkflowAutho> wfAuthors;
    //        foreach (var item in coSigners)
    //        {
    //            wfAuthors = await prDataService.GetWorkflowAuthosAsync(Int16.Parse(item.PrUserId));
    //            foreach (var item1 in wfAuthors)
    //            {
    //                if (item1.Dep == Cs)
    //                {
    //                    CoSignerId = Int16.Parse(item.PrUserId);
    //                }
    //            }
    //        }


    //        // หา Company เดียวกัน และ Dept = IT, QC, AD

    //        Need_Cosign = true;
    //    }

    //}

    private async Task FindBudgetRange()
    {
        // find budget range
        // input : prAmount // find from BudgetRanges
        List<BudgetRange> budgetRanges = await prDataService.GetBudgetRangeAsync();
        foreach (BudgetRange budgetRange in budgetRanges)
        {
            if (budgetRange.Range_Oper == "LE")
            {
                if (prAmount <= budgetRange.Range_Amount)
                {
                    thisBudgetRange = budgetRange.Range_No;
                    thisBudgetRangeName = budgetRange.Range_Name;
                    break;
                }
            }
            else
            {
                if (prAmount > budgetRange.Range_Amount)
                {
                    thisBudgetRange = budgetRange.Range_No;
                    thisBudgetRangeName = budgetRange.Range_Name;
                    break;
                }
            }
        }
    }

    // Set approver
    // SM, DM ได้จาก ODS อยู่แล้ว
    // L3,4,5 ขึ้นกับ BudgetRange
    // 211027 เพิ่ม TA, L6
    int SmId = 0;
    int DmId = 0;
    int L3Id = 0;
    int L4Id = 0;
    int L5Id = 0;
    int L6Id = 0;
    int L7Id = 0;
    string SmName = "";
    string DmName = "";
    string L3Name = "";
    string L4Name = "";
    string L5Name = "";
    string L6Name = "";
    string L7Name = "";
    int L3Position = 0;
    int L4Position = 0;
    int L5Position = 0;
    int L6Position = 0;
    int L7Position = 0;


    private async Task FindApprovers()
    {
        List<vWorkflowAutho> workflowAuthos;
        workflowAuthos = await prDataService.GetvWorkflowAuthoAsync(prHeader, "BudgetRange" + thisBudgetRange);
        // check Accounting

        //int level = 3; // level หลังจาก DM
        foreach (vWorkflowAutho workflowAutho in workflowAuthos)
        {
            if (workflowAutho.Wf_Order > 2)
            {
                //switch (level)
                switch (workflowAutho.Wf_Order) //  3.TA 4.GM 5.PM 6.VP 7.PRS
                {
                    case 3:
                        L3Id = workflowAutho.User_Id;
                        L3Name = workflowAutho.UserName;
                        L3Position = workflowAutho.Wf_Order;
                        break;
                    case 4:
                        L4Id = workflowAutho.User_Id;
                        L4Name = workflowAutho.UserName;
                        L4Position = workflowAutho.Wf_Order;
                        break;
                    case 5:
                        L5Id = workflowAutho.User_Id;
                        L5Name = workflowAutho.UserName;
                        L5Position = workflowAutho.Wf_Order;
                        break;
                    case 6:
                        L6Id = workflowAutho.User_Id;
                        L6Name = workflowAutho.UserName;
                        L6Position = workflowAutho.Wf_Order;
                        break;
                    case 7:
                        L7Id = workflowAutho.User_Id;
                        L7Name = workflowAutho.UserName;
                        L7Position = workflowAutho.Wf_Order;
                        break;
                    default:
                        break;
                }
                //level += 1;
            }
        }
    }

    private async Task SetFinalized()
    {
        // Approval Flow structure
        // GenerateApprovalFlowHead ( vPRHeader, ApproverRole, UserId, UserGrpId, Status, WFOrder, isDisable
        // ApproverRole:
        //     "AC" = Accounting
        //     "CSQC", "CSAD", "CSIT", "CSSE" = cosign แต่ละ แผนก
        // UserGrdId (ไม่ได้ใช้)
        // Status = "N" คือ ยังไม่ Approve, "A" คือ Approve แล้ว
        // WfOrder = workflow order 1...7


        string FirstPrStatus = ""; // ถ้าไม่มี Account,Cosign จะไปที่ SM
                                   // set L3,L4,L5 ไว้ก่อน แต่ยัง disable
                                   // 1- Acc, 2- CoSign, 3- SM, 4- DM, 5- L3, 6- L4, 7- L5

        // NEW 211027 1- Acc, 2- CoSign, 3- SM, 4- DM, 5- TA, 6- L3, 7- L4, 8- L5, 9- L6

        // First approver อาจเป็น PAAC, (CSAD,CSSE,CSIT,CSQC) หรือ PASM
        bool IsFirstApprover = false; // false คือ First Approver
        int thisWfOrder = 1;
        if (CoSignGroupSelect + "" == "")
        {
            await JsRuntime.InvokeVoidAsync("alert", "Please select Co-Sign.");
        }
        else
        {
            isBlocked = true;

            if (await JsRuntime.InvokeAsync<bool>("confirm", $"Confirm to Submit This PR [{prHeader.Pr_No}] ?"))
            {

            }
            else
            {

                isBlocked = false;
                return;
            }


            // 210927 เพิ่ม approval flow order 0 คือ ผู้ submit PR ใบนี้
            await prDataService.GenerateApprovalFlow(PrId, 0, "CREATOR", MyUserId, 0, "A", 0, true);

            if (Need_accounting)
            {
                await prDataService.GenerateApprovalFlow(PrId, 0, "PAAC", 0, 0, "N", thisWfOrder, false);
                FirstPrStatus = "PAAC";
                IsFirstApprover = true; // *** คือ ไม่ใช่ Approver
                thisWfOrder += 1;
            }
            if (CoSignGroupSelect != "--" && CoSignGroupSelect != "") // คือ ไม่ต้องมี co-Sign
            {
                await prDataService.GenerateApprovalFlow(PrId, 0, CoSignGroupSelect, 0, 0, "N", thisWfOrder, IsFirstApprover);
                if (FirstPrStatus == "")
                {
                    FirstPrStatus = CoSignGroupSelect; // CSAD,CSSE,CSIT,CSQC // "PACS";
                }
                IsFirstApprover = true; // ไม่ใช้ Approver
                thisWfOrder += 1;
            }
            if (FirstPrStatus == "")
            {
                FirstPrStatus = "PASM";
            }
            await prDataService.GenerateApprovalFlow(PrId, 0, "PASM", SmId, 0, "N", thisWfOrder, IsFirstApprover);
            await prDataService.GenerateApprovalFlow(PrId, 0, "PADM", DmId, 0, "N", thisWfOrder + 1, true);
            thisWfOrder = thisWfOrder + 2;
            if (L3Id != 0)
            {
                await prDataService.GenerateApprovalFlow(PrId, L3Position, "PAL2", L3Id, 0, "N", thisWfOrder, true);
                thisWfOrder += 1;
            }
            if (L4Id != 0)
            {
                await prDataService.GenerateApprovalFlow(PrId, L4Position, "PAL3", L4Id, 0, "N", thisWfOrder, true);
                thisWfOrder += 1;
            }
            if (L5Id != 0)
            {
                await prDataService.GenerateApprovalFlow(PrId, L5Position, "PAL4", L5Id, 0, "N", thisWfOrder, true);
                thisWfOrder += 1;
            }
            if (L6Id != 0)
            {
                await prDataService.GenerateApprovalFlow(PrId, L6Position, "PAL5", L6Id, 0, "N", thisWfOrder, true);
                thisWfOrder += 1;
            }
            if (L7Id != 0)
            {
                await prDataService.GenerateApprovalFlow(PrId, L7Position, "PAL6", L7Id, 0, "N", thisWfOrder, true);
                thisWfOrder += 1;
            }

            //if (Need_Cosign)
            //{
            //    if (Need_accounting)
            //    {
            //        await prDataService.GenerateApprovalFlow(PrId, 0, "C", DmId, 0, "N", 2, true);
            //    }
            //    else
            //    {
            //        await prDataService.GenerateApprovalFlow(PrId, 0, "C", 0, 0, "N", 2, false);
            //        nextPrStatus = "PACS";
            //    }
            //}

            // ต่อไป หา PD (Purchas Department Manager) ว่าเป็นที่ HO หรือ RY

            var PurGroup = prHeader.Purchasing_Group;
            // load PD config
            List<SystemConfiguration> Pds = await prDataService.GetSystemConfigurationsAsync("PD");

            // ผลลัพธ์ว่าจะไปที่ PD HO หรือ RY
            string Pd = "";
            // Pds = PDHO: CM,MP // PDRY: CH
            string[] Pgs;
            foreach (var item in Pds)
            {
                Pgs = item.ConfigValue.Split(",");
                foreach (var g in Pgs)
                {
                    if (PurGroup.StartsWith(g))
                    {
                        Pd = item.ConfigName;
                    }
                }
            }
            await prDataService.GenerateApprovalFlow(PrId, 0, Pd, 0, 0, "N", thisWfOrder, true);
            if (Pd == "") // ไม่มี Purchasing Group
            {
                await JsRuntime.InvokeAsync<object>("Alert", "Invalid Purchasing Group");
            }

            /*** Update PR Header Before Send Email *** Kroekpong.S */
            await prMainService.SetPrStatus(prHeader, FirstPrStatus);

            //*** ย้ายออกนอก loop เปลี่ยนจาก peritem เป็น perdoc
            await CheckSendNoti();

            await InvokeAsync(StateHasChanged);

            navigationManager.NavigateTo(navigationManager.Uri, forceLoad: true);
        }
    }

    private async Task SendNotiMail(string toEmail)
    {
        vPRHeader prh = await prMainService.GetvPrHeaderAsync(prHeader.Id);
        var fMemo = ""; var fRnType = "";
        EmailMessage emailMessage = new EmailMessage()
        {
            PrId = prh.Id.ToString(),
            PrNo = prh.Pr_No,
            RequesterInfo = prh.Requester,
            //RequesterInfo = $"{prh.Requester}, COMPANY: {prh.Company}, DEPARTMENT: {prh.Department}, SECTION:{ prh.Section}",
            WBS = "",
            TotalCost = prh.sPrAmt,
            RequirementDate = (prh.Pr_Date?? DateTime.Now).ToString("dd/MM/yyyy"),
            StatusName = prh.PrStatus,
            Objective = prh.Objective,
            Company = prh.Company,
            Department = prh.Department,
            Section = prh.Section,
            Memo = fMemo,
            Comment = prh.Comment,
            RN_TYPE = fRnType
        };

        await SendNotiMail(toEmail, "Approver", emailMessage);
    }

    private async Task SendRejectMail(string mtype, string fMemo)
    {
        vPRHeader prh = await prMainService.GetvPrHeaderAsync(prHeader.Id);
        EmailMessage emailMessage = new EmailMessage()
        {
            PrId = prh.Id.ToString(),
            PrNo = prh.Pr_No,
            RequesterInfo = prh.Requester,
            WBS = "",
            TotalCost = prh.sPrAmt,
            RequirementDate = (prh.Pr_Date ?? DateTime.Now).ToString("dd/MM/yyyy"),
            StatusName = prh.PrStatus,
            Objective = prh.Objective,
            Company = prh.Company,
            Department = prh.Department,
            Section = prh.Section,
            Memo = fMemo,
            Comment = prh.Comment
        };

        var usr = _UserManager.Users.FirstOrDefault(x => x.UserName.ToUpper() == prh.Requester.ToUpper());
        if (usr != null)
        {
            await SendNotiMail(usr.Email, mtype, emailMessage);
        }

    }


    private async Task SendNotiMail(string toEmail, string type, EmailMessage emailMessage)
    {

        try
        {
            string subj = $"PR status of PR No. : {emailMessage.PrNo}";
            if (type == "Reject")
            {
                subj = $"Workflow PR on Web has a reject for Tracking SAP PR No. : {emailMessage.PrNo}";
            }

            MailKitService.SendNotiMail(toEmail, subj, emailMessage, type);

        }
        catch (Exception ex)
        {
            await JsRuntime.InvokeVoidAsync("alert", "Cannot send Notification Email.");
            navigationManager.NavigateTo(navigationManager.Uri, forceLoad: true);
        }
    }

    private async Task LoopSendAll(string groupRole)
    {
        // get all user in Role
        mailUsersOfRole = await _UserManager.GetUsersInRoleAsync(groupRole);
        foreach (var item in mailUsersOfRole)
        {
            await SendNotiMail(item.Email);
        }
    }

    private async Task CheckSendNoti()
    {
        // load approval flow ของ Pr ปัจจุบัน
        var thisAFs = await prDataService.GetvApprovalFlowPrHeadAsync(PrId);
        List<ListOfString> ListODS;
        foreach (var item in thisAFs)
        {
            // ไปยัง Is disable = false
            if (item.Is_disabled == false)
            {
                // ถ้าเป็น role loop ส่งทุกราย
                // ถ้าเป็น user ส่ง
                switch (item.Approver_role)
                {
                    case "PAAC":
                    case "CSAD":
                    case "CSQC":
                    case "CSIT":
                    case "CSSE":
                        //get Sm of MyODS
                        switch (item.Approver_role)
                        {
                            case "PAAC":
                                mailUsersOfRole = await _UserManager.GetUsersInRoleAsync("Accountings");
                                break;
                            case "CSAD":
                                mailUsersOfRole = await _UserManager.GetUsersInRoleAsync("ADCoSigner");
                                break;
                            case "CSQC":
                                mailUsersOfRole = await _UserManager.GetUsersInRoleAsync("QCCoSigner");
                                break;
                            case "CSIT":
                                mailUsersOfRole = await _UserManager.GetUsersInRoleAsync("ITCoSigner");
                                break;
                            case "CSSE":
                                mailUsersOfRole = await _UserManager.GetUsersInRoleAsync("SECoSigner");
                                break;
                            default:
                                break;
                        }
                        foreach (var usr0 in mailUsersOfRole)
                        {
                            ListODS = await prDataService.GetOListFromUserIdAsync(Int16.Parse(usr0.PrUserId));
                            foreach (var ods in ListODS)
                            {
                                if (ods.StringValue == thisPrO)
                                {
                                    await SendNotiMail(usr0.Email);
                                }
                            }
                        }
                        break;
                    case "PASM":
                        //get Sm of MyODS
                        mailUsersOfRole = await _UserManager.GetUsersInRoleAsync("SMs");
                        foreach (var usr0 in mailUsersOfRole)
                        {
                            ListODS = await prDataService.GetODSListFromUserIdAsync(Int16.Parse(usr0.PrUserId));
                            foreach (var ods in ListODS)
                            {
                                if (ods.StringValue == thisPrODS)
                                {
                                    await SendNotiMail(usr0.Email);
                                }
                            }
                        }
                        break;
                    case "PADM":
                        //get Sm of MyODS
                        mailUsersOfRole = await _UserManager.GetUsersInRoleAsync("DMs");
                        foreach (var usr0 in mailUsersOfRole)
                        {
                            ListODS = await prDataService.GetODListFromUserIdAsync(Int16.Parse(usr0.PrUserId));
                            foreach (var ods in ListODS)
                            {
                                if (ods.StringValue == thisPrOD)
                                {
                                    await SendNotiMail(usr0.Email);
                                }
                            }
                        }
                        break;
                    case "PAL2":
                    case "PAL3":
                    case "PAL4":
                    case "PAL5":
                    case "PAL6":
                        var usr = _UserManager.Users.FirstOrDefault(x => x.PrUserId == item.Approver_id.ToString());
                        if (usr != null)
                        {
                            await SendNotiMail(usr.Email);
                        }
                        break;
                    default:
                        break;
                }
            }
        }


    }

    PrItemDetail prItemDetail;
    private async Task LoadSingleItem(PRItem prItem1)
    {
        isItemDlgVisible = true;
        //prItem = await prDataService.GetSinglePrItemAsync(Id, prItem1.Item_No);
        await prItemDetail.InitThisItem(prItem1, PrId);
    }

    private void Navigate(PRItem prItem1)
    {
        navigationManager.NavigateTo($"pritem/{PrId}/{prItem1.Item_No}", true);
    }

    private void RNClick(int id)
    {
        navigationManager.NavigateTo($"RnForm/V/{id}/0", true);
    }

    public void OnFileRemove(RemovingEventArgs args)
    {
        args.PostRawFile = false;
    }

    public async Task SetDelete()
    {
        if (await JsRuntime.InvokeAsync<bool>("confirm", "Please confirm deleting this PR."))
        {
            // เปลี่ยน Approval_Flow. af_version ให้ เป็น ver ถัดไป = disable อัตโนมัติ
            await prDataService.UpdateDisableApprovalFlowAsync(PrId);
            // set Status ของ Pr เป็น DELETE
            PRHeader thisPrHeader = await prMainService.GetPrHeaderAsync(prHeader.Id);
            thisPrHeader.Status = "DEL";
            await prMainService.UpdatePrHeaderAsync(thisPrHeader);
            navigationManager.NavigateTo(navigationManager.Uri, true);
        }
    }

    public async Task SetPurchaseComplete(bool PrClose)
    {
        PRHeader thisPrHeader = await prMainService.GetPrHeaderAsync(prHeader.Id);

        var PurGroup = thisPrHeader.Purchasing_Group;
        // ผลลัพธ์ว่าจะไปที่ PD HO หรือ RY
        string Pd = "PCOMP";
        if (!PrClose) {
            // load PD config
            List<SystemConfiguration> Pds = await prDataService.GetSystemConfigurationsAsync("PD");

            // Pds = PDHO: CM,MP // PDRY: CH
            string[] Pgs;
            foreach (var item in Pds)
            {
                Pgs = item.ConfigValue.Split(",");
                foreach (var g in Pgs)
                {
                    if (PurGroup.StartsWith(g))
                    {
                        Pd = item.ConfigName;
                    }
                }
            }
        }

        thisPrHeader.Status = Pd;
        await prMainService.UpdatePrHeaderAsync(thisPrHeader);
        navigationManager.NavigateTo(navigationManager.Uri, true);
    }

    public async Task SetUnHold()
    {
        PRHeader thisPrHeader = await prMainService.GetPrHeaderAsync(prHeader.Id);
        thisPrHeader.Status = "CLOS";
        await prMainService.UpdatePrHeaderAsync(thisPrHeader);
        navigationManager.NavigateTo(navigationManager.Uri, true);
    }


    bool isRejectVisible = false;
    string RejectReason = "";
    private void SetReject()
    {
        // Reject Note
        isRejectVisible = true;
    }
    private void CancelReject()
    {
        // Reject Note
        isRejectVisible = false;
    }

    private async Task ReAssingStaff()
    {
        isBlocked = true;
        if (await JsRuntime.InvokeAsync<bool>("confirm", "Confirm Re-Assign This PR ?"))
        {

            //PRHeader thisPrHeader = await prMainService.GetPrHeaderAsync(prHeader.Id);
            //thisPrHeader.Status = "CLOS";
            await prMainService.ReAssingStaff(prHeader.Id);


            navigationManager.NavigateTo(navigationManager.Uri, true);

        }
        else
        {

            isBlocked = false;
            return;
        }
        //await Task.Delay(900);

    }

    public string generateID()
    {
        return Guid.NewGuid().ToString("N");
    }

    private async Task ConfirmReject()
    {
        isBlocked = true;
        if (await JsRuntime.InvokeAsync<bool>("confirm", "Confirm Reject This PR ?"))
        {

        }
        else
        {
            isBlocked = false;
            return;
        }

        isRejectVisible = false;
        // save as memo
        RejectReason = "Reject:" + RejectReason;
        vPrMemo prMemo = new vPrMemo
        {
            MemoWhoID = MyUserId,
            MemoMsg = RejectReason,
            MemoWhen = DateTime.Now,
            PrID = PrId,
            Id = generateID()
            //Id = new Random().Next(300, 900).ToString()
        };
        await prDataService.InsertvPrMemoAsync(prMemo);

        // เปลี่ยน Approval_Flow. af_version ให้ เป็น ver ถัดไป = disable อัตโนมัติ
        await prDataService.UpdateDisableApprovalFlowAsync(PrId);
        // set Status ของ Pr เป็น REJECT
        PRHeader thisPrHeader = await prMainService.GetPrHeaderAsync(prHeader.Id);
        thisPrHeader.Status = "REJ";
        await prMainService.UpdatePrHeaderAsync(thisPrHeader);

        // Send Reject Mail
        await SendRejectMail("Reject", RejectReason);

        navigationManager.NavigateTo(navigationManager.Uri, forceLoad: true);
        await JsRuntime.InvokeVoidAsync("alert", "PR has been rejected! :" + RejectReason); // Alert
    }

    //******** Approve PR ***********
    private async Task SetApproved()
    {
        isBlocked = true;
        if (await JsRuntime.InvokeAsync<bool>("confirm", "Confirm Approved This PR ?"))
        {

        }
        else
        {
            isBlocked = false;
            return;
        }


        //string nextApproverRole;
        string nextPRStatus = "";

        myApproval_flow = await prDataService.GetApprovalFlowFromIdAsync(thisApprovalFlowId);
        // ทำการบันทึก Status การ Approve
        myApproval_flow.Status = "A";
        myApproval_flow.When_end = DateTime.Now;
        myApproval_flow.Approver_id = MyUserId;
        await prDataService.UpdateApprovalFlowAsync(myApproval_flow);

        // ทำการส่งต่อไปที่ approver ลำดับถัดไป
        nextPRStatus = "END";
        var nextApprovalFlowId = await prDataService.UpdateApprovalFlowEnableNext(myApproval_flow);
        if (nextApprovalFlowId != 0)
        {
            var nextApprovalflow = await prDataService.GetApprovalFlowFromIdAsync(nextApprovalFlowId);
            nextPRStatus = nextApprovalflow.Approver_role;
            // mail to approver
            //var nextApprover = _UserManager.Users.FirstOrDefault(x => x.PrUserId == nextApprovalflow.Approver_id.ToString());
            //if (nextApprover != null)
            //{
            //    var toEmail = nextApprover.Email;
            //    //PrNoti nextPrNoti = new PrNoti()
            //    //{
            //    //    PrSAPNo = prHeader.Pr_No,
            //    //    PrId = prHeader.Id,
            //    //    PrStatus = "",
            //    //    ApproveStatus = "",
            //    //    AsRole = ""
            //    //};
            //    //await EmailService.SendEmailAsync(toEmail, "Waiting for your approval.", nextPrNoti);
            //    string fromEmail = "TPP-TRWF06@th.tpcc-tpac.com";
            //    vPRHeader prh = await prMainService.GetvPrHeaderAsync(prHeader.Id);

            //    EmailMessage emailMessage = new EmailMessage()
            //    {
            //        PrNo = prh.Pr_No,
            //        RequesterInfo = prh.Requester + ", COMPANY: " + prh.Company + ",DEPARTMENT: " + prh.Department + ", SECTION:" + prh.Section,
            //        WBS = "",
            //        TotalCost = prh.sPrAmt,
            //        RequirementDate = (prh.Release_Date ?? DateTime.Now).ToString("dd/MM/yyyy"),
            //        StatusName = prh.PrStatus
            //    };

            //    //toEmail = "bunlue@gmail.com";

            //    MailKitService.SendNoti(fromEmail, toEmail, "Workflow assigned for PR No." + prh.Pr_No, emailMessage);

            //}
        }

        // Update PR Status
        PRHeader thisPrHeader = await prMainService.GetPrHeaderAsync(prHeader.Id);
        thisPrHeader.Status = nextPRStatus;
        await prMainService.UpdatePrHeaderAsync(thisPrHeader);

        // และ Mail to Next Approver
        await CheckSendNoti();

        //navigationManager.NavigateTo("/PrList");
        navigationManager.NavigateTo(navigationManager.Uri, forceLoad: true);
        await JsRuntime.InvokeVoidAsync("alert", "PR has been Approved! :"); // Alert
    }


    Boolean isCGConcerning = false;
    Boolean isSCAConcerning = false;
    Boolean isISONeed = false;
    String ObjectiveEdit;

    private void ModeEdit() // อาจเป็น NEW หรือ RNIN หรือ RNCN
    {
        Mode = "E";
    }

    private void ModeModify()
    {
        isBlocked = true;
        navigationManager.NavigateTo($"predit/{PrId}");
    }


    private async Task SaveEdit()
    {
        PRHeader ActualPrHeader = await prMainService.GetPrHeaderAsync(PrId);
        ActualPrHeader.Need_CG_Concerning = isCGConcerning;
        ActualPrHeader.Need_SCA_Concerning = isSCAConcerning;
        ActualPrHeader.Need_ISO = isISONeed;
        ActualPrHeader.Objective = ObjectiveEdit;
        ActualPrHeader.CoSign_Group = CoSignGroupSelect;
        await prMainService.UpdatePrHeaderAsync(ActualPrHeader);
        Mode = "V";
    }

    private void CancelEdit()
    {
        isCGConcerning = prHeader.Need_CG_Concerning;
        isSCAConcerning = prHeader.Need_SCA_Concerning;
        isISONeed = prHeader.Need_ISO;
        ObjectiveEdit = prHeader.Objective;
        switch (prHeader.Status)
        {
            case "RNIN":
                Mode = "FI";
                break;
            case "RNCN":
                Mode = "FC";
                break;
            default:
                Mode = "V";
                break;
        }
    }

    private async Task CloseItemDlg()
    {
        // check if all item Close
        bool PrClose  = true;
        foreach (var item in prItems)
        {
            if (item.PR_Closed == false)
            {
                PrClose = false;
            }
        }

        if (PrClose == true)
        {
            await SetPurchaseComplete(true);
        }
        else if (prHeader.Status == "PCOMP")
        {
            await SetPurchaseComplete(false);
        }

        Grid.Refresh();
        isItemDlgVisible = false;
    }

    public async Task DeleteAttach(int attachId)
    {
        if (await JsRuntime.InvokeAsync<bool>("confirm", "Please confirm deleting this file."))
        {
            var fileName = await prDataService.DeleteUploadAttachAsync(attachId);
            File.Delete(env.WebRootPath + UploadPath + fileName);
            await GetUploadFileList();
            StateHasChanged();
        }
    }

    // Upload File
    private bool IsVisibleChild { get; set; } = false;

    private void OpenUploadDialog()
    {
        this.IsVisibleChild = true;
    }
    public async Task CloseUploadDialog()
    {
        //IsVisibleChild = false;
        //await GetUploadFileList();
        navigationManager.NavigateTo($"prform/{PrId}", true);
        //StateHasChanged();
    }

    List<UploadFile> uploadFiles;
    private async Task GetUploadFileList()
    {
        // 1= PrItem
        uploadFiles = await prDataService.GetUploadFileListAsync(1, PrId);
    }

    // print

    public async Task PrintPrForm(MouseEventArgs args)
    {
        string isTPAC1 = "";
        string isTPAC2 = "";
        string isTPAC3 = "";
        string isTPCC1 = "";
        string isTPCC2 = "";
        string isMEPT = "";

        isBlocked = true;
        // prepare data
        if (prHeader.Plant == "PA01")
        {
            isTPAC1 = "X";
        }
        else if (prHeader.Plant == "PA02")
        {
            isTPAC2 = "X";
        }
        else if (prHeader.Plant == "PA03")
        {
            isTPAC3 = "X";
        }
        else if (prHeader.Plant == "PC01")
        {
            isTPCC1 = "X";
        }
        else if (prHeader.Plant == "PC02")
        {
            isTPCC2 = "X";
        }
        if (prHeader.Plant == "MP01")
        {
            isMEPT = "X";
        }

        if (prHeader.Plant == "MP51")
        {
            isMEPT = "X";
        }

        string PrNo;
        PrNo = prHeader.Pr_No + "  Tracking No. " + prHeader.Tracking_No;


        string Purchaser = "";
        //get Purchaser from PRItem
        var DistinctPurchasers = prItems.GroupBy(x => x.Purchasing_Staff).Select(y => y.First());
        foreach (var item in DistinctPurchasers)
        {
            Purchaser += (Purchaser.Length == 0 ? "" : ", ") + item.Purchasing_Staff;
        }

        float SubTotal = 0;
        float TotalAmt = 0;

        string dateRec;
        if (prItems[0].Staff_assign_date.Year < 1900)
        {
            dateRec = "-";
        }
        else
            dateRec = prItems[0].Staff_assign_date.ToString("d/M/yyyy");

        var Params = new Dictionary<string, string>() {
            {"PR_No", PrNo},
            {"Objective",prHeader.Objective},
            {"Budget",prHeader.sPrAmt},
            {"Department", prHeader.Department},
            {"Requester", prHeader.Requester },
            {"Purchaser", Purchaser },
            {"SMName",SmNamePDF },
            {"DMName",DmNamePDF },
            {"L3Name",L3NamePDF },
            {"L4Name",L4NamePDF },
            {"L5Name",L5NamePDF },
            {"L6Name",L6NamePDF },
            {"L7Name",L7NamePDF },
            {"isTPAC1",isTPAC1 },
            {"isTPAC2",isTPAC2 },
            {"isTPAC3",isTPAC3 },
            {"isTPCC1",isTPCC1 },
            {"isTPCC2",isTPCC2 },
            {"isMEPT",isMEPT },

            {"isAD_CO","CSAD"==prHeader.CoSign_Group? "On":"Off"},
            {"isIT_CO","CSIT"==prHeader.CoSign_Group? "On":"Off"},
            {"isSE_CO","CSSE"==prHeader.CoSign_Group? "On":"Off"},
            {"isNO_CO","--"==prHeader.CoSign_Group? "On":"Off"},
            {"isQC_CO","CSQC"==prHeader.CoSign_Group? "On":"Off"},

            {"isCG", prHeader.Need_CG_Concerning? "X":""},
            {"isISO",prHeader.Need_ISO? "X":""},
            {"isSCA",prHeader.Need_SCA_Concerning? "X":""},

            {"IssuingDate",prItems[0].Requistion_date.ToString("d/M/yyyy") },
            {"DateReceive",dateRec },

            {"PR_No_MEPT",prHeader.Pr_No },
            {"Tracking_No", prHeader.Tracking_No},
            {"DesiredVendor", prItems[0].Desired_Vendor},
            {"Comment",prHeader.Comment}
      };

        StateHasChanged();

        for (int i = 0; i < prItems.Count; i++)
        {
            int priceUnit;
            priceUnit = prItems[i].Price_Unit == 0 ? 1 : prItems[i].Price_Unit;
            SubTotal = prItems[i].Price_PR * prItems[i].Quantity / priceUnit;
            TotalAmt += SubTotal;

            Params.Add("Item_" + i.ToString(), (i + 1).ToString());
            Params.Add("Item_Description_" + i.ToString(), prItems[i].Item_Description);
            if (Params["isMEPT"] == "X")
            {
                Params.Add("Quantity_" + i.ToString(), prItems[i].Quantity.ToString());
            }
            else
            {
                Params.Add("Quantity_" + i.ToString(), prItems[i].Quantity.ToString() + "  " + prItems[i].UOM);
            }
            Params.Add("Material_Group_" + i.ToString(), prItems[i].Item_Code.TrimStart(new Char[] { '0' }));
            Params.Add("Cost_" + i.ToString(), SubTotal.ToString("N"));
            Params.Add("WBS_" + i.ToString(), prItems[i].Cost_Center + prItems[i].WBS_Code);
            var Delivery_date = prItems[i].Delivery_date;
            Params.Add("DateNeed_" + i.ToString(), Delivery_date == null ? "" : Delivery_date.ToString("d/M/yyyy"));
            Params.Add("UOM_" + i.ToString(), prItems[i].UOM);
            Params.Add("UnitPrice_" + i.ToString(), prItems[i].Price_PR.ToString("N") + prItems[i].Currency + " / " + prItems[i].Price_Unit + prItems[i].UOM);
            Params.Add("Currency_" + i.ToString(), prItems[i].Currency);
        }
        Params.Add("TotalAmt", TotalAmt.ToString("N"));

        var pdf = new PrOnWeb.PDF.Report7(env);

        pdf.OpenNewTab(JsRuntime, Params, prItems.Count, "Report.PDF");

        isBlocked = false;
    }

    public async Task SetSnStatus(string RnStatus)
    {
        ReturningNote thisRn = await prDataService.GetReturningNoteFromPRAsync(PrId);
        if (thisRn != null)
        {
            thisRn.Rn_Status = RnStatus;
            await prDataService.UpdateRnAsync(thisRn);
        }
    }

    public async Task IgnoreRN()
    {
        await prMainService.SetPrStatus(prHeader, "RNIG");
        await SetSnStatus("REQ. IGNORE");
    }
    public async Task AcceptRN()
    {
        await prMainService.SetPrStatus(prHeader, "RNCF");
        await SetSnStatus("REQ. CONFIRM");
    }
    public async Task EditInfo()
    {
        await prMainService.SetPrStatus(prHeader, "RNCF");
        await SetSnStatus("REQ. CONFIRM");
    }
    public async Task DeletePR()
    {
        await prMainService.SetPrStatus(prHeader, "DEL");
        await SetSnStatus("PR DELETED");
    }

    private void CreateRN()
    {
        navigationManager.NavigateTo($"RnForm/G/{PrId}/0");
    } 

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private EmailServices.IMailKitEmailService MailKitService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private PrOnWeb.Services.PrMainService prMainService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private PrOnWeb.Services.PrDataService prDataService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private EmailServices.IEmailService EmailService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private Microsoft.AspNetCore.Hosting.IWebHostEnvironment env { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private UserManager<ApplicationUser> _UserManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager navigationManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JsRuntime { get; set; }
    }
}
namespace __Blazor.PrOnWeb.Pages.PrForm
{
    #line hidden
    internal static class TypeInference
    {
        public static void CreateSfCheckBox_0<TChecked>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.String __arg0, int __seq1, global::System.Boolean __arg1, int __seq2, TChecked __arg2, int __seq3, global::Microsoft.AspNetCore.Components.EventCallback<TChecked> __arg3, int __seq4, global::System.Linq.Expressions.Expression<global::System.Func<TChecked>> __arg4)
        {
        __builder.OpenComponent<global::Syncfusion.Blazor.Buttons.SfCheckBox<TChecked>>(seq);
        __builder.AddAttribute(__seq0, "Label", __arg0);
        __builder.AddAttribute(__seq1, "Disabled", __arg1);
        __builder.AddAttribute(__seq2, "Checked", __arg2);
        __builder.AddAttribute(__seq3, "CheckedChanged", __arg3);
        __builder.AddAttribute(__seq4, "CheckedExpression", __arg4);
        __builder.CloseComponent();
        }
        public static void CreateSfCheckBox_1<TChecked>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.String __arg0, int __seq1, global::System.Boolean __arg1, int __seq2, TChecked __arg2, int __seq3, global::Microsoft.AspNetCore.Components.EventCallback<TChecked> __arg3, int __seq4, global::System.Linq.Expressions.Expression<global::System.Func<TChecked>> __arg4)
        {
        __builder.OpenComponent<global::Syncfusion.Blazor.Buttons.SfCheckBox<TChecked>>(seq);
        __builder.AddAttribute(__seq0, "Label", __arg0);
        __builder.AddAttribute(__seq1, "Disabled", __arg1);
        __builder.AddAttribute(__seq2, "Checked", __arg2);
        __builder.AddAttribute(__seq3, "CheckedChanged", __arg3);
        __builder.AddAttribute(__seq4, "CheckedExpression", __arg4);
        __builder.CloseComponent();
        }
        public static void CreateSfCheckBox_2<TChecked>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.String __arg0, int __seq1, global::System.Boolean __arg1, int __seq2, TChecked __arg2, int __seq3, global::Microsoft.AspNetCore.Components.EventCallback<TChecked> __arg3, int __seq4, global::System.Linq.Expressions.Expression<global::System.Func<TChecked>> __arg4)
        {
        __builder.OpenComponent<global::Syncfusion.Blazor.Buttons.SfCheckBox<TChecked>>(seq);
        __builder.AddAttribute(__seq0, "Label", __arg0);
        __builder.AddAttribute(__seq1, "Disabled", __arg1);
        __builder.AddAttribute(__seq2, "Checked", __arg2);
        __builder.AddAttribute(__seq3, "CheckedChanged", __arg3);
        __builder.AddAttribute(__seq4, "CheckedExpression", __arg4);
        __builder.CloseComponent();
        }
        public static void CreateSfCheckBox_3<TChecked>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Boolean __arg0, int __seq1, global::System.String __arg1, int __seq2, TChecked __arg2)
        {
        __builder.OpenComponent<global::Syncfusion.Blazor.Buttons.SfCheckBox<TChecked>>(seq);
        __builder.AddAttribute(__seq0, "Disabled", __arg0);
        __builder.AddAttribute(__seq1, "Label", __arg1);
        __builder.AddAttribute(__seq2, "Checked", __arg2);
        __builder.CloseComponent();
        }
        public static void CreateSfGrid_4<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.String __arg0, int __seq1, global::System.Collections.Generic.IEnumerable<TValue> __arg1, int __seq2, global::System.Boolean __arg2, int __seq3, global::System.Boolean __arg3, int __seq4, global::Microsoft.AspNetCore.Components.RenderFragment __arg4, int __seq5, global::System.Action<global::Syncfusion.Blazor.Grids.SfGrid<TValue>> __arg5)
        {
        __builder.OpenComponent<global::Syncfusion.Blazor.Grids.SfGrid<TValue>>(seq);
        __builder.AddAttribute(__seq0, "ID", __arg0);
        __builder.AddAttribute(__seq1, "DataSource", __arg1);
        __builder.AddAttribute(__seq2, "AllowPaging", __arg2);
        __builder.AddAttribute(__seq3, "AllowResizing", __arg3);
        __builder.AddAttribute(__seq4, "ChildContent", __arg4);
        __builder.AddComponentReferenceCapture(__seq5, (__value) => { __arg5((global::Syncfusion.Blazor.Grids.SfGrid<TValue>)__value); });
        __builder.CloseComponent();
        }
    }
}
#pragma warning restore 1591
